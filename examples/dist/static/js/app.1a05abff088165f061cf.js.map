{"version":3,"sources":["webpack:///static/js/app.1a05abff088165f061cf.js","webpack:///./src/main.js","webpack:///./components/packages/desk-drag/index.js","webpack:///./components/packages/draggable-resizable/index.js","webpack:///./components/src/index.js","webpack:///./components/src/utils/clickoutside.js","webpack:///./components/src/utils/dom.js","webpack:///desk-drag.vue","webpack:///draggable-resizable.vue","webpack:///Index.vue","webpack:///./src/router/index.js","webpack:///./components/packages/desk-drag/src/desk-drag.vue","webpack:///./components/packages/draggable-resizable/src/draggable-resizable.vue","webpack:///./src/Index.vue?a78a","webpack:///./components/packages/draggable-resizable/src/draggable-resizable.vue?94de","webpack:///./components/packages/desk-drag/src/desk-drag.vue?9252","webpack:///./src/Index.vue?26e0"],"names":["webpackJsonp","165","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_Index","_Index2","_router","_router2","_src","_src2","use","el","router","template","components","Index","167","Object","defineProperty","value","_deskDrag","_deskDrag2","install","Vue","component","name","168","_draggableResizable","_draggableResizable2","169","_index","_index2","_index3","_index4","_clickoutside","_clickoutside2","forEach","directive","window","version","DraggableResizable","DeskDrag","170","_dom","nodeList","ctx","startClick","prototype","$isServer","on","document","e","node","documentHandler","bind","binding","vnode","id","push","mouseup","arguments","length","undefined","mousedown","context","target","contains","popperElm","expression","methodName","bindingFn","update","unbind","len","i","splice","171","addClass","cls","curClass","className","clss","split","j","clName","classList","add","hasClass","removeClass","remove","replace","trim","setStyle","element","styleName","_typeof3","prop","hasOwnProperty","camelCase","ieVersion","style","filter","isNaN","getStyle","once","off","_typeof2","isServer","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","Number","documentMode","string","_","separator","letter","offset","toUpperCase","addEventListener","event","handler","attachEvent","removeEventListener","detachEvent","listener","apply","this","indexOf","Error","filters","item","opacity","currentStyle","computed","defaultView","getComputedStyle","172","_assign","_assign2","data","itemDragStop","itemResizing","rectWidth","rectHeight","tarWidth","blockWidth","offLeft","moveLeft","showDragMenu","rightMenuStyle","left","top","urlMinWidth","urlMinHeight","currentView","targetCurrentView","selectModule","moduleApiData","moduleData","uiKey","moduleItem","moveSpaceData","moduleRect","spaceRect","props","width","type","String","height","sourceData","Array","isfixed","mainLeft","movePageStyle","movePageH","mainDrag","difMarginTop","Math","abs","marginTop","widthHeight","rectWidthHeight","dragPageStyle","bottom","minWindowHeight","watch","createSpaceRect","updateDragPos","monitorWidthHeight","methods","moduleItemDeptChangeEvn","val","dd","curIframe","$","uiId","iframeVm","contentWindow","toChangeDept","deptCode","moduleItemRefreshEvn","parents","next","find","attr","mouseWheel","_this","delta","wheelDelta","detail","isMouserWheel","turnRightView","setTimeout","diffWidth","minWindowWidth","diffHeight","parseInt","isCheck","curTime","Date","getTime","l","$emit","cloneFirstData","turnModuleData","setModulePos","activated","vm","deactivated","resizestop","_this2","$nextTick","nextWidth","round","nextHeight","nextTop","nextLeft","curPosItem","updateItemPos","setRectStatus","updateApiData","temS","_curPosItem","apiRect","findPosByRect","delItems","itemApiRect","deleteModuleItemData","_i","updatepos","addByItem","resizing","dragstop","_this3","timer","clearTimeout","nextView","floor","viewIndex","changePos","directAddByItem","_i2","createdMove","isSecond","clearNullLast","dragging","setMoveSpaceData","diffLeft","diffRight","dragOverRightPage","dragOverLeftPage","d2","clearMoveRect","q","w","itemPage","itemPageL","spaceModule","itemL","rectItem","curId","spacePos","posData","hasEnoughRow","isRowCheck","usedIndex","rowI","setMoveRectStatus","curModule","_this4","speed","tempLeft","tempI","setInterval","mainRight","addModuleAndRect","_this5","curItem","isAddSuccess","pushItemToRect","cloneModuleData","tempModule","tempItem","k","h","arrData","cloneSecondData","temp","delItem","curModuleD","curRectD","posRect","uniPosRect","uniqueArr","_i3","_l","_k","_h","array","index","initModulePos","viewModuleData","deleteItem","sourceChange","getStatusRect","dataItem","rectCol","concat","rectRowL","rectColL","curRow","rowIndex","startRow","endRow","curModuleRect","colJ","newDataItem","isCurId","spaceRectTwo","clearHeadNullModuleData","isNull","isRemove","changeItemInData","pop","contextMenu","_$refs$deskDragBox$ge","$refs","deskDragBox","getBoundingClientRect","clientX","pageX","clientY","pageY","dragClickOutside","cancelDragFixed","dragDblClick","d","created","mounted","173","active","Boolean","draggable","resizable","validator","minw","minh","x","y","z","handles","axis","grid","parent","maximize","parentX","parentW","parentY","parentH","mouseX","mouseY","lastMouseX","lastMouseY","mouseOffX","mouseOffY","elmX","elmY","elmW","elmH","documentElement","handleMove","deselect","handleUp","$el","offsetWidth","clientWidth","offsetHeight","clientHeight","reviewDimensions","zIndex","beforeDestroy","enabled","handle","parentNode","elmDown","srcElement","scrollLeft","scrollTop","regex","RegExp","test","handleDown","stopPropagation","preventDefault","fillParent","done","animate","requestAnimationFrame","diffX","diffY","dX","dY","174","dataLength","dragDeleteEn","avl","arr","dragChangeEn","handleClick","portletColor","portletName","portletImage","deskDrag","resize","175","_vueRouter","_vueRouter2","routes","410","411","412","413","414","415","419","Component","420","injectStyle","ssrContext","421","422","render","_vm","$createElement","_c","_self","staticClass","class","$event","dblclick","display","_e","_v","_t","staticRenderFns","423","ref","mousewheel","DOMMouseScroll","drag_stop","key","has_url","portletUrl","attrs","nativeOn","contextmenu","_s","click","data-frame-id","src","frameborder","scrolling","directives","rawName","selected","424","drag-change","drag-delete","427"],"mappings":"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","file":"static/js/app.1a05abff088165f061cf.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(79);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _Index = __webpack_require__(421);\n\nvar _Index2 = _interopRequireDefault(_Index);\n\nvar _router = __webpack_require__(175);\n\nvar _router2 = _interopRequireDefault(_router);\n\n__webpack_require__(411);\n\n__webpack_require__(410);\n\n__webpack_require__(412);\n\n__webpack_require__(413);\n\nvar _src = __webpack_require__(169);\n\nvar _src2 = _interopRequireDefault(_src);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n_vue2.default.use(_src2.default);\n\nnew _vue2.default({\n  el: '#app',\n  router: _router2.default,\n  template: '<Index/>',\n  components: { Index: _Index2.default }\n});\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _deskDrag = __webpack_require__(419);\n\nvar _deskDrag2 = _interopRequireDefault(_deskDrag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_deskDrag2.default.install = function (Vue) {\n  Vue.component(_deskDrag2.default.name, _deskDrag2.default);\n};\n\nexports.default = _deskDrag2.default;\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _draggableResizable = __webpack_require__(420);\n\nvar _draggableResizable2 = _interopRequireDefault(_draggableResizable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* istanbul ignore next */\n_draggableResizable2.default.install = function (Vue) {\n  Vue.component(_draggableResizable2.default.name, _draggableResizable2.default);\n};\n\nexports.default = _draggableResizable2.default;\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _index = __webpack_require__(168);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = __webpack_require__(167);\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _clickoutside = __webpack_require__(170);\n\nvar _clickoutside2 = _interopRequireDefault(_clickoutside);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar components = [_index2.default, _index4.default];\n\nvar install = function install(Vue) {\n  components.forEach(function (component) {\n    Vue.component(component.name, component);\n  });\n  Vue.directive('clickoutside', _clickoutside2.default); //自定义指令 v-clickoutside   点击其他地方触发的指令\n};\n\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue);\n}\n\nexports.default = {\n  version: '1.0.0',\n  install: install,\n  DraggableResizable: _index2.default,\n  DeskDrag: _index4.default\n};\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(79);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = __webpack_require__(171);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar nodeList = [];\nvar ctx = '@@clickoutsideContext';\n\nvar startClick = void 0;\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mousedown', function (e) {\n  return startClick = e;\n});\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mouseup', function (e) {\n  nodeList.forEach(function (node) {\n    return node[ctx].documentHandler(e, startClick);\n  });\n});\n/**\r\n * v-clickoutside\r\n * @desc 点击元素外面才会触发的事件\r\n * @example\r\n * ```vue\r\n * <div v-element-clickoutside=\"handleClose\">\r\n * ```\r\n */\nexports.default = {\n  bind: function bind(el, binding, vnode) {\n    var id = nodeList.push(el) - 1;\n    var documentHandler = function documentHandler() {\n      var mouseup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var mousedown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!vnode.context || !mouseup.target || !mousedown.target || el.contains(mouseup.target) || el.contains(mousedown.target) || el === mouseup.target || vnode.context.popperElm && (vnode.context.popperElm.contains(mouseup.target) || vnode.context.popperElm.contains(mousedown.target))) return;\n\n      if (binding.expression && el[ctx].methodName && vnode.context[el[ctx].methodName]) {\n        vnode.context[el[ctx].methodName]();\n      } else {\n        el[ctx].bindingFn && el[ctx].bindingFn();\n      }\n    };\n    el[ctx] = {\n      id: id,\n      documentHandler: documentHandler,\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n  update: function update(el, binding) {\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n  unbind: function unbind(el) {\n    var len = nodeList.length;\n\n    for (var i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStyle = exports.hasClass = exports.once = exports.off = exports.on = undefined;\n\nvar _typeof2 = __webpack_require__(180);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.addClass = addClass;\nexports.removeClass = removeClass;\nexports.setStyle = setStyle;\n\nvar _vue = __webpack_require__(79);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isServer = _vue2.default.prototype.$isServer; /**\r\n                                                   * Created by lhn on 2017/8/15.\r\n                                                   */\n\nvar SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g; //特殊字符匹配 :-_\nvar MOZ_HACK_REGEXP = /^moz([A-Z])/; //对mozilla进行特殊判断，即firefox\nvar ieVersion = isServer ? 0 : Number(document.documentMode); //判断ie的版本号\n/**\r\n * 去掉头尾空格\r\n * @param string\r\n * @returns {string}\r\n */\nvar trim = function trim(string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n};\n/**\r\n * 将:-_等变成驼峰式，如foo-bar变成fooBar\r\n * @param name 要处理的字符串\r\n * @returns {*}\r\n */\nvar camelCase = function camelCase(name) {\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter; //// 开头的不大写，其余的大写\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1'); // 对moz进行特殊处理\n};\n/**\r\n * 添加事件监听\r\n * @param element 要监听的元素\r\n * @param event 要监听的事件\r\n * @param handler 要执行的函数\r\n */\nvar on = exports.on = function () {\n  if (!isServer && document.addEventListener) {\n    // 浏览器环境，且非IE9以下版本\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        element.addEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        element.attachEvent(\"on\" + event, handler);\n      }\n    };\n  }\n}();\n/**\r\n * 移除事件监听\r\n * @param element 监听的元素\r\n * @param event 监听的事件\r\n * @param handler 执行的函数\r\n */\nvar off = exports.off = function () {\n  if (!isServer && document.removeEventListener) {\n    // 浏览器环境，且非IE9以下版本\n    return function (element, event, handler) {\n      if (element && event) {\n        element.removeEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function (element, event, handler) {\n      if (element && event) {\n        element.detachEvent(\"on\" + event, handler);\n      }\n    };\n  }\n}();\n/**\r\n * 绑定一次性事件监听\r\n * @param el 要监听的元素\r\n * @param event 要监听的事件\r\n * @param fn 回调函数\r\n */\nvar once = exports.once = function once(element, event, handler) {\n  var listener = function listener() {\n    if (handler) {\n      handler.apply(this, arguments);\n    }\n    off(element, event, listener); //执行完后解绑\n  };\n  on(element, event, listener);\n};\n/**\r\n * 判断是否包含某类\r\n * @param el 要检测的元素\r\n * @param cls 要检测的类名\r\n * @returns {boolean}\r\n */\nvar hasClass = exports.hasClass = function hasClass(element, cls) {\n  if (!element || !cls) return false;\n  if (cls.indexOf(\" \") != -1) throw new Error('className should not contain space.');\n  if (element.classList) {\n    //IE9 以上才有 h5的新特性\n    return element.classList.contains(cls);\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n  }\n};\n/**\r\n * 给元素添加某些类\r\n * @param el 要处理的元素\r\n * @param cls 要添加的类 空格隔开\r\n */\nfunction addClass(el, cls) {\n  if (!el) return;\n  var curClass = el.className;\n  var clss = (cls || '').split(\" \");\n  for (var i = 0, j = clss.length; i < j; i++) {\n    var clName = clss[i];\n    if (!clName) continue;\n    if (el.classList) {\n      el.classList.add(clName);\n    } else {\n      if (!hasClass(el, clName)) {\n        curClass += ' ' + clName;\n      }\n    }\n  }\n  if (!el.classList) {\n    el.className = curClass;\n  }\n};\n/**\r\n * 给元素移除某些类\r\n * @param el 要处理的元素\r\n * @param cls 要移除的类  空格隔开\r\n */\nfunction removeClass(el, cls) {\n  if (!el || !cls) return;\n  var clss = (cls || '').split(\" \");\n  var curClass = ' ' + el.className + ' ';\n  for (var i = 0, j = clss.length; i < j; i++) {\n    var clName = clss[i];\n    if (!clName) continue;\n    if (el.classList) {\n      el.classList.remove(clName);\n    } else {\n      if (hasClass(el, clName)) {\n        curClass = curClass.replace(' ' + clName + ' ', ' ');\n      }\n    }\n  }\n  if (!el.classList) {\n    el.className = trim(curClass);\n  }\n};\n/**\r\n * 获取样式，分IE9一下和其他两种方式处理,虽然有重复代码，但是性能最优\r\n * @type {Function}\r\n * @param element 要获取样式的元素\r\n * @param styleName 要获取的样式名\r\n */\nvar getStyle = exports.getStyle = ieVersion < 9 ? function (element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n  if (styleName === 'float') {\n    styleName = 'styleFloat';\n  }\n  try {\n    switch (styleName) {\n      case 'opacity':\n        {\n          try {\n            return element.filters.item('alpha').opacity / 100;\n          } catch (e) {\n            return 1.0;\n          }\n        }\n      default:\n        return element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null;\n    }\n  } catch (e) {\n    return element.style[styleName];\n  }\n} : function (element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n  if (styleName === 'float') {\n    styleName = 'cssFloat';\n  }\n  try {\n    var computed = document.defaultView.getComputedStyle(element, '');\n    return element.style[styleName] || computed ? computed[styleName] : null;\n  } catch (e) {\n    return element.style[styleName];\n  }\n};\n/**\r\n * 设置元素的样式\r\n * @param element 要设置的元素\r\n * @param styleName 要设置的样式  支持json对象，当为对象时，value 就没有了\r\n * @param value 要设置的值\r\n */\nfunction setStyle(element, styleName, value) {\n  if (!element || !styleName) return;\n  if ((typeof styleName === 'undefined' ? 'undefined' : (0, _typeof3.default)(styleName)) === 'object') {\n    for (var prop in styleName) {\n      if (styleName.hasOwnProperty(prop)) {\n        //函数用于指示一个对象自身(不包括原型链)是否具有指定名称的属性\n        setStyle(element, prop, styleName[prop]);\n      }\n    }\n  } else {\n    styleName = camelCase(styleName);\n    if (styleName === 'opacity' && ieVersion < 9) {\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')';\n    } else {\n      element.style[styleName] = value;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = __webpack_require__(177);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//===============================\n//@drag-change  组件布局改变触发事件 返回参数： 1.布局源数据\n//@drag-delete  组件取消固定触发事件 返回参数： 1.该组件信息  2.删除后的信息\n//\n\nexports.default = {\n  name: \"TDeskDrag\",\n  data: function data() {\n    return {\n      itemDragStop: true, //是否是处在拖动停止时的状态 主要用于设置动画效果\n      itemResizing: false, //是否是处在缩放时的状态 主要用于设置动画效果\n      rectWidth: 12, //矩阵的宽度规格\n      rectHeight: 6, //举证的高度规格\n      tarWidth: 1280, //屏幕宽度\n      blockWidth: 104, //块的长宽\n      offLeft: 0, //左右两边的间距\n      moveLeft: 0, //向左右移动的距离\n      showDragMenu: false, //显示右键\n      rightMenuStyle: {\n        left: 0, top: 0\n      }, //右键位置\n\n      urlMinWidth: 3, //最小显示URL的宽度\n      urlMinHeight: 2,\n\n      currentView: 0, //当前显示的是哪个菜单屏\n      targetCurrentView: 0, //目标移动时位于第几屏\n      selectModule: null, //当前移动的格子的数据\n      //格式\n      //moduleItem: [{left:0,top:0,width:2,height:2,id:'0',viewIndex:0},{}....]\n      moduleApiData: [],\n      //菜单的所有数据\n      //格式\n      // left/top： 对应的坐标\n      // width/height： 对应的菜单的宽高\n      // id： 对应的菜单的唯一ID\n      // viewIndex： 对应的菜单所在的是第几屏\n      // [\n      //  {\n      //    uiKey:1,\n      //    moduleItem: [{left:0,top:0,width:2,height:2,id:'0',viewIndex:0},{}....]\n      //   },\n      //  {\n      //    uiKey:2,\n      //    moduleItem: [{left:0,top:0,width:2,height:2,id:'0',viewIndex:0},{}....]\n      //   },\n      // ]\n      moduleData: [{\n        uiKey: 1,\n        moduleItem: []\n      }],\n      //用于显示那些可以移动的位置\n      moveSpaceData: [],\n\n      //curId 代表被组件ID为curId的占用\n      //spacePos 可以移动的位置所占用\n      //===== 算法矩阵 ====\n      //---- 0 1 2 3 4 5 6 7 8 9 ----\n      //---- 0 1 2 3 4 5 6 7 8 9 ----\n      //---- 0 1 2 3 4 5 6 7 8 9 ----\n      //---- 0 1 2 3 4 5 6 7 8 9 ----\n      moduleRect: [],\n      spaceRect: [] //空矩阵\n\n      //        deptIdList:[],\n\n    };\n  },\n\n  props: {\n    width: {\n      type: [Number, String],\n      default: 1346\n    }, //浏览器的宽度 组件的宽度\n    height: {\n      type: [Number, String],\n      default: 739\n    }, //组件的高度\n    sourceData: Array,\n    isfixed: String //是否锁定， 对磁铁不进行拖动， \"1\":代表锁定\n  },\n  computed: {\n    mainLeft: function mainLeft() {\n      return -this.currentView * this.tarWidth - this.moveLeft;\n    },\n\n    //可以移动图层的样式\n    movePageStyle: function movePageStyle() {\n      var movePageH = this.rectHeight * this.blockWidth;\n      var mainDrag = this.height - movePageH - 25; //控件外框真实的宽度 减去 磁铁真实的总宽度\n      var difMarginTop = 0;\n      //此处计算主要为了市磁铁尽量靠近上方 尽量不要挡住底部桌面菜单\n      if (mainDrag < 30) {\n        difMarginTop = Math.abs(mainDrag / 2);\n      } else if (mainDrag < 57) {\n        difMarginTop = 15 - (mainDrag - 30) / 2;\n      }\n      return {\n        width: this.tarWidth * this.moduleData.length + \"px\",\n        left: -this.currentView * this.tarWidth - this.moveLeft + \"px\",\n        height: this.rectHeight * this.blockWidth + \"px\",\n        marginTop: -(this.rectHeight * this.blockWidth) / 2 - difMarginTop + \"px\"\n      };\n    },\n\n    //监听width或者height变化\n    widthHeight: function widthHeight() {\n      return this.width + this.height;\n    },\n\n    //监听rectWidth或者rectHeight变化\n    rectWidthHeight: function rectWidthHeight() {\n      return this.rectWidth + this.rectHeight;\n    },\n    dragPageStyle: function dragPageStyle() {\n      var movePageH = this.rectHeight * this.blockWidth;\n      var mainDrag = this.height - movePageH - 25; //控件外框真实的宽度 减去 磁铁真实的总宽度\n      if (mainDrag < 62) {\n        return { bottom: 0 };\n      } else {\n        var wh = this.height < this.minWindowHeight ? this.minWindowHeight : this.height;\n        return {\n          top: (wh - 25 - movePageH) / 2 + 10 + movePageH + \"px\"\n        };\n      }\n    }\n  },\n  watch: {\n    //rectWidth或者rectHeight变化时重新渲染布局\n    rectWidthHeight: function rectWidthHeight() {\n      this.createSpaceRect(); //重新创建空的矩阵\n      this.updateDragPos(this.moduleApiData);\n    },\n\n    //width或者height变化的话执行的函数\n    widthHeight: function widthHeight() {\n      this.monitorWidthHeight();\n    }\n  },\n  methods: {\n    moduleItemDeptChangeEvn: function moduleItemDeptChangeEvn() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var dd = arguments[1];\n\n      var curIframe = $(\"#module_item_\" + dd.uiId);\n      if (!curIframe.length) return; //没有找到该 iframe\n      var iframeVm = curIframe[0].contentWindow.iframeVm;\n      if (!iframeVm) return;\n      if (typeof iframeVm.toChangeDept === \"function\") {\n        //存在科室选择按钮\n        iframeVm.toChangeDept({ deptCode: val });\n      }\n    },\n\n    //调用iframe下的刷新方法\n    moduleItemRefreshEvn: function moduleItemRefreshEvn(e) {\n      var curIframe = $(e.target).parents(\".module_item_tt\").next(\".module_item_url\").find(\"iframe\");\n      if (!curIframe.length) return; //没有找到该 iframe\n      curIframe.attr('src', curIframe.attr('src'));\n\n      //        let iframeVm = curIframe[0].contentWindow.iframeVm;\n      //        if(!iframeVm) return;\n      //        if(typeof iframeVm.toRefreshItem ===\"function\"){//存在刷新按钮\n      //          iframeVm.toRefreshItem();\n      //        }\n    },\n\n\n    //滚轮翻页事件\n    mouseWheel: function mouseWheel(e) {\n      var _this = this;\n\n      var delta = -e.wheelDelta || e.detail; //firefox使用detail:下3上-3,其他浏览器使用wheelDelta:下-120上120//\n      var isTrue = !this.isMouserWheel && this.currentView + 1 < this.moduleData.length && delta < 0 || this.currentView > 0 && delta > 0;\n      if (isTrue) {\n        this.isMouserWheel = true;\n        this.turnRightView(delta < 0); //delta<0：上滚  delta>0：下滚\n        setTimeout(function () {\n          _this.isMouserWheel = false;\n        }, 300);\n      }\n    },\n\n    //监听width或者height的改变\n    monitorWidthHeight: function monitorWidthHeight() {\n      var diffWidth = this.width - this.minWindowWidth;\n      var diffHeight = this.height - this.minWindowHeight;\n      if (diffWidth <= 0) {\n        this.rectWidth = 8;\n        this.offLeft = (this.minWindowWidth - this.rectWidth * this.blockWidth) / 2;\n        this.tarWidth = this.minWindowWidth;\n      } else {\n        this.rectWidth = 8 + parseInt(diffWidth / this.blockWidth);\n        this.offLeft = (this.width - this.rectWidth * this.blockWidth) / 2;\n        this.tarWidth = this.width;\n      }\n      if (diffHeight <= 0) {\n        this.rectHeight = 4;\n      } else {\n        this.rectHeight = 4 + parseInt(diffHeight / this.blockWidth);\n      }\n    },\n\n    //更新组件信息\n    updateDragPos: function updateDragPos() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var isCheck = false;\n      this.moduleApiData = [];\n      var curTime = new Date().getTime();\n      for (var i = 0, l = data.length; i < l; i++) {\n        var item = (0, _assign2.default)({}, data[i]);\n        item.uiId = i + \"_\" + item.id + \"_\" + curTime;;\n        //判断高度是否过长\n        if (item.height > this.rectHeight) {\n          item.height = this.rectHeight;\n          isCheck = true;\n        }\n        //判断长度是否过长\n        if (item.width > this.rectWidth) {\n          item.width = this.rectWidth;\n          isCheck = true;\n        }\n        this.moduleApiData.push(item);\n      }\n      if (isCheck) {\n        this.$emit(\"drag-change\", this.cloneFirstData(this.moduleApiData));\n      }\n      //改变重新渲染\n      this.turnModuleData();\n      //初始化设置位置有变化时触发drag-change事件调用接口修改数据\n      if (this.setModulePos()) {\n        this.$emit(\"drag-change\", this.cloneFirstData(this.moduleApiData));\n      }\n    },\n\n\n    //激活块\n    activated: function activated(vm, dd) {\n      this.selectModule = (0, _assign2.default)({}, dd);\n    },\n    deactivated: function deactivated() {},\n    resizestop: function resizestop(vm, dd) {\n      var _this2 = this;\n\n      this.selectModule = (0, _assign2.default)({}, dd);\n      this.itemDragStop = true;\n      this.$nextTick(function () {\n        var nextWidth = Math.round(vm.width / _this2.blockWidth);\n        var nextHeight = Math.round(vm.height / _this2.blockWidth);\n        var nextTop = Math.round(vm.top / _this2.blockWidth);\n        var nextLeft = Math.round((vm.left - _this2.tarWidth * _this2.currentView - _this2.offLeft) / _this2.blockWidth);\n        //边界判断\n        //top：移动到上外围 则设置为0\n        if (nextTop < 0) {\n          nextTop = 0;\n        }\n        if (nextLeft < 0) {\n          nextLeft = 0;\n        }\n        //没有变化\n        if (nextWidth <= _this2.selectModule.width && nextHeight <= _this2.selectModule.height) {\n          var curPosItem = (0, _assign2.default)({}, _this2.selectModule, { width: nextWidth, height: nextHeight, top: nextTop, left: nextLeft });\n          _this2.updateItemPos(curPosItem);\n          _this2.setRectStatus(_this2.selectModule); //删除旧对应矩阵\n          _this2.setRectStatus(curPosItem, true); //设置新对应矩阵\n          //更新数据源\n          _this2.updateApiData();\n          var temS = _this2.selectModule;\n          //数据不变\n          if (temS.width == nextWidth && temS.height == nextHeight && temS.top == nextTop && temS.left == nextLeft) {} else {\n            _this2.$emit(\"drag-change\", _this2.cloneFirstData(_this2.moduleApiData));\n          }\n        } else {\n          //右下角 太高\n          if (nextHeight + nextTop > _this2.rectHeight) {\n            nextHeight = _this2.rectHeight - nextTop;\n          }\n          //太宽\n          if (nextWidth + nextLeft > _this2.rectWidth) {\n            nextWidth = _this2.rectWidth - nextLeft;\n          }\n          //当前定位的位置\n          var _curPosItem = (0, _assign2.default)({}, _this2.selectModule, {\n            width: nextWidth, height: nextHeight, top: nextTop, left: nextLeft\n          });\n          //被占用的数据\n          var apiRect = _this2.findPosByRect(_curPosItem);\n          var delItems = []; //除了本身 那些要被移动的快\n          for (var i = 0; i < apiRect.length; i++) {\n            var itemApiRect = apiRect[i];\n            if (_curPosItem.id != itemApiRect.id) {\n              _this2.deleteModuleItemData(itemApiRect); //删除临时显示数据块\n              _this2.setRectStatus(itemApiRect); //删除对应矩阵\n              delItems.push(itemApiRect);\n            }\n          }\n\n          _this2.setRectStatus(_this2.selectModule); //删除旧对应矩阵\n          _this2.setRectStatus(_curPosItem, true); //设置新对应矩阵\n          _this2.updateItemPos(_curPosItem); //更新自身的位置\n\n          //添加那些被移动的块\n          for (var _i = 0; _i < delItems.length; _i++) {\n            delItems[_i].updatepos = !delItems[_i].updatepos;\n            _this2.addByItem(delItems[_i]);\n          }\n          //更新数据源\n          _this2.updateApiData();\n\n          _this2.$emit(\"drag-change\", _this2.cloneFirstData(_this2.moduleApiData));\n        }\n        _this2.itemResizing = false; //缩放结束\n      });\n    },\n    resizing: function resizing(vm, dd) {\n      this.itemDragStop = false;\n      this.itemResizing = true; //缩放开始\n      this.selectModule = (0, _assign2.default)({}, dd);\n    },\n\n    //拖动结束\n    dragstop: function dragstop(vm) {\n      var _this3 = this;\n\n      this.itemDragStop = true;\n      this.timer && clearTimeout(this.timer);\n      this.$nextTick(function () {\n        _this3.moveLeft = 0;\n        //四舍五入\n        var nextView = Math.floor(vm.left / _this3.tarWidth); //目标点位于当前的第几个屏\n        var nextLeft = Math.round((vm.left - _this3.tarWidth * nextView - _this3.offLeft) / _this3.blockWidth);\n        var nextTop = Math.round(vm.top / _this3.blockWidth);\n\n        //边界判断\n        //top：移动到上外围 则设置为0\n        if (nextTop < 0) {\n          nextTop = 0;\n        }\n        //top：移动到最下外围 则设置刚好到底部\n        if (nextTop > _this3.rectHeight - _this3.selectModule.height) {\n          nextTop = _this3.rectHeight - _this3.selectModule.height;\n        }\n\n        //目标点即将定位于 小于第一屏 nextView=0 nextLeft=0\n        if (nextView < 0) {\n          nextView = 0; //目标点设置为第一屏\n          nextLeft = 0;\n        }\n\n        //left：当前第一屏而且到达最左边 则归0\n        if (nextLeft < 0) {\n          nextLeft = 0;\n        } else {\n          //left：当前最后一屏、、最外围\n          if (nextLeft > _this3.rectWidth - _this3.selectModule.width) {\n            //是最后一屏\n            nextLeft = _this3.rectWidth - _this3.selectModule.width;\n          }\n        }\n        //移动没有达到半格 且是在当前屏幕\n        if (nextLeft == _this3.selectModule.left && nextTop == _this3.selectModule.top && nextView == _this3.selectModule.viewIndex) {\n          vm.changePos(nextLeft * _this3.blockWidth + _this3.tarWidth * _this3.selectModule.viewIndex + _this3.offLeft, nextTop * _this3.blockWidth);\n        } else {\n          //当前定位的位置\n          var curPosItem = (0, _assign2.default)({}, _this3.selectModule, {\n            left: nextLeft, top: nextTop, uiKey: new Date().getTime(), viewIndex: nextView\n          });\n          _this3.currentView = nextView; //切换到定位的屏\n          //被占用的数据\n          var apiRect = _this3.findPosByRect(curPosItem);\n          _this3.deleteModuleItemData(_this3.selectModule); //删除当前显示数据块\n          _this3.setRectStatus(_this3.selectModule); //删除对应矩阵\n\n          var delItems = []; //除了本身 那些要被移动的快\n          for (var i = 0; i < apiRect.length; i++) {\n            var itemApiRect = apiRect[i];\n            if (curPosItem.id != itemApiRect.id) {\n              _this3.deleteModuleItemData(itemApiRect); //删除临时显示数据块\n              _this3.setRectStatus(itemApiRect); //删除对应矩阵\n              delItems.push(itemApiRect);\n            }\n          }\n          //先定位当前的\n          curPosItem.updatepos = !curPosItem.updatepos;\n          _this3.directAddByItem(curPosItem);\n          //添加那些被移动的块\n          for (var _i2 = 0; _i2 < delItems.length; _i2++) {\n            delItems[_i2].updatepos = !delItems[_i2].updatepos;\n            _this3.addByItem(delItems[_i2]);\n          }\n          //更新数据源\n          _this3.updateApiData();\n          _this3.$emit(\"drag-change\", _this3.cloneFirstData(_this3.moduleApiData));\n          _this3.selectModule = curPosItem; //重新赋值当前选中的块\n        }\n        _this3.createdMove = false; //移动矩阵的标识设置为false\n        _this3.isSecond = false; //解决dragging事件 在点击块的时候也会触发\n        _this3.targetCurrentView = _this3.currentView;\n        _this3.clearNullLast();\n      });\n    },\n\n    //拖动过程\n    dragging: function dragging(vm, dd) {\n      this.selectModule = (0, _assign2.default)({}, dd);\n      this.timer && clearTimeout(this.timer);\n      this.targetCurrentView = Math.floor(vm.left / this.tarWidth); //目标点位于当前的第几个屏\n      //createdMove 判断是否已经创建了移动矩阵对应的数据\n      if (!this.isSecond) {\n        this.isSecond = true;\n        this.itemDragStop = true; //第一次点击 设置\n      } else {\n        if (!this.createdMove) {\n          this.setMoveSpaceData(dd);\n          this.createdMove = true;\n        }\n        this.itemDragStop = false;\n      }\n\n      //右边超出的多少\n      //实际偏移左边屏幕的left：总位移 - 前几屏的长度 - 偏移的距离\n      //超出右边的长度：+ 本身的长度 - 屏幕的长度\n      var diffLeft = vm.left - this.currentView * this.tarWidth - this.moveLeft;\n      var diffRight = diffLeft + this.selectModule.width * this.blockWidth - this.tarWidth;\n      //右边超出了\n      if (diffRight > 0) {\n        this.dragOverRightPage(diffRight, vm, dd);\n      } else if (diffLeft < 0) {\n        this.dragOverLeftPage(diffRight, vm);\n      }\n    },\n\n\n    //设置清空矩阵对应的数据\n    setMoveSpaceData: function setMoveSpaceData(dd) {\n      //用于查找所有 1 X 1 大小的正方形\n      var d2 = (0, _assign2.default)({}, dd);\n      d2.width = 1;\n      d2.height = 1;\n\n      this.moveSpaceData = [];\n      this.clearMoveRect();\n      var curTime = new Date().getTime();\n      for (var q = 0, w = this.moduleRect.length; q < w; q++) {\n        var itemPage = this.moduleRect[q];\n        var itemPageL = itemPage.length;\n        var spaceModule = []; //每一屏存放的空块\n\n        for (var i = 0; i < itemPageL; i++) {\n          var item = itemPage[i];\n          var itemL = item.length;\n          for (var j = 0; j < itemL; j++) {\n            var rectItem = item[j].curId;\n            var spacePos = item[j].spacePos;\n            //没有被实体占用 而且没有被虚体占用(反之随便一个被占用,则向下一个查找)\n            if (rectItem || spacePos) {\n              continue;\n            } else {\n              var posData = {\n                top: i,\n                left: j,\n                width: d2.width,\n                height: d2.height,\n                viewIndex: q,\n                id: q + \"_\" + i + \"_\" + j + \"_\" + curTime\n              };\n              //找到了\n              if (d2.width == 1 && d2.height == 1) {\n                spaceModule.push(posData);\n                spacePos = true; //更改矩阵状态\n              } else {\n                //后面没有足够多的位置\n                if (d2.width > itemL - j || d2.height > itemPageL - i) {\n                  //宽度还有没有位置 高度还有没有位置\n                  break;\n                }\n\n                //先判断当前有没有足够的行\n                if (!this.hasEnoughRow(i, d2, j)) {\n                  var isRowCheck = false;\n                  var usedIndex = -1; //被暂用的位置优化代码\n                  //从该行的下一个查起,到总共需要的个数(在这范围里一个都)\n                  for (var rowI = j + 1; rowI < j + d2.width; rowI++) {\n                    if (item[rowI].curId || item[rowI].spacePos) {\n                      isRowCheck = true;\n                      usedIndex = rowI;\n                      break;\n                    } else {\n                      //判断是否有足够的行\n                      if (this.hasEnoughRow(i, d2, rowI)) {\n                        isRowCheck = true;\n                        usedIndex = rowI;\n                        break;\n                      }\n                    }\n                  }\n                  //说明被占用了 则查找下一个可用的\n                  if (isRowCheck) {\n                    j = usedIndex;\n                  } else {\n                    spaceModule.push(posData);\n                    this.setMoveRectStatus(posData, true);\n                    j = j + d2.width - 1; //直接定位到没有被占用的地方\n                  }\n                }\n              }\n            }\n          }\n        }\n        this.moveSpaceData.push({\n          uiKey: q + \"_\" + curTime,\n          moduleItem: spaceModule\n        });\n      }\n    },\n\n\n    //清空移动矩阵的值\n    clearMoveRect: function clearMoveRect() {\n      for (var q = 0, w = this.moduleRect.length; q < w; q++) {\n        var itemPage = this.moduleRect[q];\n        var itemPageL = itemPage.length;\n        for (var i = 0; i < itemPageL; i++) {\n          var item = itemPage[i];\n          var itemL = item.length;\n          for (var j = 0; j < itemL; j++) {\n            item[j].spacePos = false;\n          }\n        }\n      }\n    },\n\n\n    //更新某一块的位置、大小\n    //没有动到其他位置\n    updateItemPos: function updateItemPos(item) {\n      var curModule = this.moduleData[item.viewIndex].moduleItem;\n      for (var i = 0, l = curModule.length; i < l; i++) {\n        if (item.id == curModule[i].id) {\n          //更新\n          curModule[i] = (0, _assign2.default)(curModule[i], item, { updatepos: !curModule[i].updatepos });\n          break;\n        }\n      }\n    },\n\n    //拖动块翻滚屏 向右翻屏\n    dragOverRightPage: function dragOverRightPage(diffRight, vm, dd) {\n      var _this4 = this;\n\n      //不是最后一屏\n      var speed = 10; //移动的速度\n      if (diffRight < 64) {\n        speed = 6;\n      } else if (diffRight < 148) {\n        speed = 10;\n      } else {\n        speed = 20;\n      }\n      var tempLeft = vm.left;\n      var tempI = 0;\n      this.timer = setInterval(function () {\n        var mainRight = (_this4.moduleData.length - 1) * _this4.tarWidth + _this4.mainLeft;\n        if (mainRight <= 0) {\n          //最后一屏不是空屏 则新增一屏\n          if (_this4.moduleData[_this4.moduleData.length - 1].moduleItem.length) {\n            _this4.addModuleAndRect();\n            _this4.setMoveSpaceData(dd); //重新创建移动屏\n          } else {\n            _this4.timer && clearTimeout(_this4.timer);\n          }\n        } else {\n          //剩余的长度小于 speed 则用少于的长度去累加\n          if (mainRight < speed && mainRight != 0) {\n            tempI += mainRight;\n            _this4.moveLeft += mainRight;\n          } else {\n            tempI += speed;\n            _this4.moveLeft += speed;\n          }\n          vm.changePos(tempLeft + tempI, vm.top);\n        }\n      }, 10);\n    },\n\n    //拖动块翻滚屏 向左翻屏\n    dragOverLeftPage: function dragOverLeftPage(diffLeft, vm) {\n      var _this5 = this;\n\n      //不是最后一屏\n      var speed = 10; //移动的速度\n      if (diffLeft > -64) {\n        speed = -6;\n      } else if (diffLeft > -148) {\n        speed = -10;\n      } else {\n        speed = -20;\n      }\n      var tempLeft = vm.left;\n      var tempI = 0;\n      this.timer = setInterval(function () {\n        var mainLeft = _this5.mainLeft; //当前class:main_page_item的left值\n        if (mainLeft >= 0) {\n          //到达一屏\n          _this5.timer && clearTimeout(_this5.timer);\n        } else {\n          //剩余的长度小于 speed 则用少于的长度去累加\n          if (mainLeft > speed && mainLeft != 0) {\n            tempI += mainLeft;\n            _this5.moveLeft += mainLeft;\n          } else {\n            tempI += speed;\n            _this5.moveLeft += speed;\n          }\n          vm.changePos(tempLeft + tempI, vm.top);\n        }\n      }, 10);\n    },\n\n    //直接添加一个位置确定的块\n    directAddByItem: function directAddByItem(curItem) {\n      var curModuleD = this.moduleData[curItem.viewIndex].moduleItem; //添加项所在的屏\n      curModuleD.push(curItem);\n      //更新矩阵\n      this.setRectStatus(curItem, true);\n    },\n\n    //添加默认的快（位置还不确定的）\n    //curItem 要添加的块\n    //viewIndex 从第几屏开始添加 默认从头开始添加\n    //返回新的块的信息\n    addByItem: function addByItem(curItem) {\n      var viewIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var isAddSuccess = null; //添加是否成功\n      for (var i = viewIndex; i < this.moduleRect.length; i++) {\n        curItem.viewIndex = i; //从第一屏开始查找\n        var posData = this.pushItemToRect(curItem); //坐标信息\n        if (posData) {\n          this.directAddByItem(posData);\n          isAddSuccess = posData;\n          break;\n        }\n      }\n      if (isAddSuccess) return isAddSuccess; //添加成功 则返回正确的块对象 否则新增一个矩阵继续添加\n      this.addModuleAndRect();\n      return this.addByItem(curItem, this.moduleRect.length - 1);\n    },\n\n    //克隆moduleData的数据 moduleData\n    cloneModuleData: function cloneModuleData(moduleData) {\n      var tempModule = [];\n      for (var i = 0; i < moduleData.length; i++) {\n        var moduleItem = moduleData[i].moduleItem;\n        var tempItem = [];\n        for (var k = 0, h = moduleItem.length; k < h; k++) {\n          tempItem.push((0, _assign2.default)({}, moduleItem[k]));\n        }\n        tempModule.push((0, _assign2.default)({}, moduleData[i], { moduleItem: tempItem }));\n      }\n      return tempModule;\n    },\n\n    //克隆一层数组的数据\n    cloneFirstData: function cloneFirstData(arrData) {\n      var tempModule = [];\n      for (var i = 0; i < arrData.length; i++) {\n        tempModule.push((0, _assign2.default)({}, arrData[i]));\n      }\n      return tempModule;\n    },\n\n    //克隆两层数组的数据\n    cloneSecondData: function cloneSecondData(arrData) {\n      var tempModule = [];\n      for (var i = 0; i < arrData.length; i++) {\n        var item = arrData[i];\n        var temp = [];\n        for (var j = 0, k = item.length; j < k; j++) {\n          temp.push((0, _assign2.default)({}, item[j]));\n        }\n        tempModule.push(temp);\n      }\n      return tempModule;\n    },\n\n    //从显示的数据里删除某一块\n    deleteModuleItemData: function deleteModuleItemData(delItem) {\n      var curModuleD = this.moduleData[delItem.viewIndex].moduleItem; //删除项所在的屏\n      for (var i = 0; i < curModuleD.length; i++) {\n        if (curModuleD[i].id == delItem.id) {\n          curModuleD.splice(i, 1);\n          break;\n        }\n      }\n    },\n\n    //从矩阵里通过位置查找对应的所有模块\n    findPosByRect: function findPosByRect(posData) {\n      //当前是第几屏\n      var viewIndex = posData.viewIndex;\n      var curRectD = this.moduleRect[viewIndex];\n      var posRect = [];\n      for (var i = posData.top, l = posData.top + posData.height; i < l; i++) {\n        for (var k = posData.left, h = posData.left + posData.width; k < h; k++) {\n          if (curRectD[i][k].curId) {\n            //被占用的CurId\n            posRect.push(curRectD[i][k].curId);\n          }\n        }\n      }\n      //查找对应的菜单单元\n      if (!posRect.length) return [];\n      //去掉重复的块\n      var uniPosRect = this.uniqueArr(posRect);\n      var apiRect = [];\n      for (var _i3 = 0, _l = uniPosRect.length; _i3 < _l; _i3++) {\n        for (var _k = 0, _h = this.moduleApiData.length; _k < _h; _k++) {\n          if (this.moduleApiData[_k].id == uniPosRect[_i3]) {\n            apiRect.push(this.moduleApiData[_k]);\n            break;\n          }\n        }\n      }\n      return apiRect;\n    },\n\n    /** 数组去重\n     * 获取没重复的最右一值放入新数组。\n     * （检测到有重复值时终止当前循环同时进入顶层循环的下一轮判断）*/\n    uniqueArr: function uniqueArr(array) {\n      var temp = [];\n      var index = [];\n      var l = array.length;\n      for (var i = 0; i < l; i++) {\n        for (var j = i + 1; j < l; j++) {\n          if (array[i] === array[j]) {\n            i++;\n            j = i;\n          }\n        }\n        temp.push(array[i]);\n        index.push(i);\n      }\n      return temp;\n    },\n\n\n    //初始化模块位置\n    initModulePos: function initModulePos() {\n      for (var i = 0; i < this.moduleData.length; i++) {\n        var viewModuleData = this.moduleData[i].moduleItem;\n        var h = viewModuleData.length;\n        for (var k = 0; k < h; k++) {\n          var item = viewModuleData[k];\n          item.viewIndex = i;\n          //todo 设置当前科室字段 用于下拉科室选中的值\n          //            if(item.portletParameter=='1'){\n          //              item.currentDeptCode = \"\";//当前科室\n          //            }\n\n          var posData = this.pushItemToRect(item); //坐标信息\n          if (posData) {\n            //更新矩阵的状态\n            this.setRectStatus(posData, true);\n          } else {\n            var deleteItem = (0, _assign2.default)({}, item);\n            viewModuleData.splice(k, 1); //删除该模块的菜单 添加到下一个模块里\n            if (this.moduleData.length <= i + 1) {\n              //说明后面没有可用的模块 则需要添加模块\n              this.addModuleAndRect();\n            }\n            this.moduleData[i + 1].moduleItem.push(deleteItem);\n            k--;\n            h--;\n          }\n        }\n      }\n\n      //更新数据源\n      this.updateApiData();\n    },\n\n    //设置模块的位置（moduleData的数据是整理好的）\n    //return boolean (源数据是否改变)\n    setModulePos: function setModulePos() {\n      var sourceChange = false; //源数据 apiData是否改变了\n      for (var i = 0; i < this.moduleData.length; i++) {\n        var viewModuleData = this.moduleData[i].moduleItem;\n        var h = viewModuleData.length;\n        for (var k = 0; k < h; k++) {\n          var item = viewModuleData[k];\n          //被占用\n          if (this.getStatusRect(item)) {\n            sourceChange = true;\n            item.viewIndex = i;\n            //找新的位置\n            var posData = this.pushItemToRect(item); //坐标信息\n            if (posData) {\n              //更新矩阵的状态\n              this.setRectStatus(posData, true);\n            } else {\n              var deleteItem = (0, _assign2.default)({}, item);\n              viewModuleData.splice(k, 1); //删除该模块的菜单 添加到下一个模块里\n              if (this.moduleData.length <= i + 1) {\n                //说明后面没有可用的模块 则需要添加模块\n                this.addModuleAndRect();\n              }\n              this.moduleData[i + 1].moduleItem.push(deleteItem);\n              k--;\n              h--;\n            }\n          } else {\n            this.setRectStatus(item, true);\n          }\n        }\n      }\n      //更新数据源\n      this.updateApiData();\n      return sourceChange;\n    },\n\n    //判断本事块的位置是否被占用了\n    getStatusRect: function getStatusRect(dataItem) {\n      var isCheck = false; //是否成功了\n      if (this.moduleRect.length < dataItem.viewIndex + 1) return true;\n\n      for (var i = dataItem.top, l = dataItem.top + dataItem.height; i < l; i++) {\n        var rectCol = this.moduleRect[dataItem.viewIndex][i]; //每行的数据\n        if (!rectCol) return true;\n        for (var j = dataItem.left; j < dataItem.left + dataItem.width; j++) {\n          if (!rectCol[j] || rectCol[j].curId) {\n            isCheck = true;\n            break;\n          }\n        }\n        if (isCheck) break;\n      }\n      return isCheck;\n    },\n\n\n    //更新源数据\n    updateApiData: function updateApiData() {\n      this.moduleApiData = []; //先清空\n      for (var i = 0; i < this.moduleData.length; i++) {\n        var viewModuleData = this.moduleData[i].moduleItem;\n        this.moduleApiData = this.moduleApiData.concat(viewModuleData);\n        viewModuleData = null; //释放内存\n      }\n    },\n\n    //在某一个屏里通过块信息 查找满足的块（只查找某一个屏）\n    //返回包含正确的left top viewIndex的值的块\n    pushItemToRect: function pushItemToRect(dataItem) {\n      var isCheck = false; //是否成功了\n      var posData = null;\n\n      var rectRowL = this.moduleRect[dataItem.viewIndex].length; //总行数\n\n      for (var i = 0, l = rectRowL; i < l; i++) {\n        var rectCol = this.moduleRect[dataItem.viewIndex][i]; //每行的数据\n        var rectColL = rectCol.length; //每行的总列数\n        for (var j = 0; j < rectColL; j++) {\n          var rectItem = rectCol[j].curId;\n          //当前这个没有被暂用，长宽都为1\n          if (!rectItem) {\n            posData = {\n              top: i,\n              left: j\n            };\n            if (dataItem.width == 1 && dataItem.height == 1) {\n              isCheck = true;\n              break;\n            } else {\n              //后面没有足够多的位置\n              if (dataItem.width > rectColL - j || dataItem.height > rectRowL - i) {\n                //宽度还有没有位置 高度还有没有位置\n                break;\n              }\n              //先判断当前有没有足够的行\n              if (!this.hasEnoughRow(i, dataItem, j)) {\n                var isRowCheck = false;\n                var usedIndex = -1; //被暂用的位置优化代码\n                //从该行的下一个查起,到总共需要的个数(在这范围里一个都)\n                for (var rowI = j + 1; rowI < j + dataItem.width; rowI++) {\n                  if (rectCol[rowI].curId) {\n                    isRowCheck = true;\n                    usedIndex = rowI;\n                    break;\n                  } else {\n                    //判断是否有足够的行\n                    if (this.hasEnoughRow(i, dataItem, rowI)) {\n                      isRowCheck = true;\n                      usedIndex = rowI;\n                      break;\n                    }\n                  }\n                }\n                //说明被占用了 则查找下一个可用的\n                if (isRowCheck) {\n                  j = usedIndex;\n                } else {\n                  isCheck = true;\n                  break;\n                }\n              }\n            }\n          }\n        }\n        if (isCheck) break;\n      }\n\n      return isCheck ? (0, _assign2.default)(dataItem, posData) : null;\n    },\n\n\n    //判断有没有足够多的行\n    //返回 true ：代表  竖的不满足\n    hasEnoughRow: function hasEnoughRow(curRow, dataItem, rowIndex) {\n      var startRow = curRow + 1; //开始查找的行 从当前行的下一行开始查找\n      var endRow = curRow + dataItem.height; //截止查找的行 从当前行和要查找的总行的和\n      var isRowCheck = false; //true代表被占用了\n      //当前列没有被占用 再判断当前所需的行有没有被占用\n      var curModuleRect = this.moduleRect[dataItem.viewIndex];\n      for (var colJ = startRow; colJ < endRow; colJ++) {\n        if (curModuleRect[colJ][rowIndex].curId) {\n          isRowCheck = true;\n          break;\n        }\n      }\n      return isRowCheck;\n    },\n\n    /**\n     * 设置矩阵的选中状态 或者取消选中状态\n     * @param newDataItem 块的信息\n     * @param isCheck true: 设置选中状态   false：取消选中状态\n     */\n    setRectStatus: function setRectStatus(newDataItem) {\n      var isCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var curModuleRect = this.moduleRect[newDataItem.viewIndex];\n      var isCurId = isCheck ? newDataItem.id : \"\";\n      for (var i = newDataItem.top, l = newDataItem.height + newDataItem.top; i < l; i++) {\n        for (var k = newDataItem.left, h = newDataItem.width + newDataItem.left; k < h; k++) {\n          curModuleRect[i][k].curId = isCurId;\n        }\n      }\n    },\n\n    /**\n     * 设置矩阵的选中状态 或者取消选中状态（移动矩阵）\n     * @param newDataItem 块的信息\n     * @param isCheck true: 设置选中状态   false：取消选中状态\n     */\n    setMoveRectStatus: function setMoveRectStatus(newDataItem) {\n      var isCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var curModuleRect = this.moduleRect[newDataItem.viewIndex];\n      for (var i = newDataItem.top, l = newDataItem.height + newDataItem.top; i < l; i++) {\n        for (var k = newDataItem.left, h = newDataItem.width + newDataItem.left; k < h; k++) {\n          curModuleRect[i][k].spacePos = isCheck;\n        }\n      }\n    },\n\n    //根据rectWidth跟rectHeight创建空矩阵\n    createSpaceRect: function createSpaceRect() {\n      this.spaceRect = [];\n      for (var i = 0, l = this.rectHeight; i < l; i++) {\n        var spaceRectTwo = [];\n        for (var j = 0, k = this.rectWidth; j < k; j++) {\n          spaceRectTwo.push({ curId: \"\", spacePos: false });\n        }\n        this.spaceRect.push(spaceRectTwo);\n      }\n    },\n\n    //添加模块的空数据和空矩阵\n    addModuleAndRect: function addModuleAndRect() {\n      this.moduleData.push({ uiKey: \"moduleData_\" + new Date().getTime(), moduleItem: [], update: false });\n      this.moduleRect.push(this.cloneSecondData(this.spaceRect));\n    },\n\n    //算法数据格式转化一下\n    //从Api获取的格式转化成我们需要的格式\n    turnModuleData: function turnModuleData() {\n      //初始化\n      this.moduleData = [{ uiKey: new Date().getTime(), moduleItem: [] }];\n      this.moduleRect = [this.cloneSecondData(this.spaceRect)];\n      this.currentView = 0;\n      this.targetCurrentView = 0;\n\n      for (var i = 0, l = this.moduleApiData.length; i < l; i++) {\n        var item = (0, _assign2.default)({ uiKey: new Date().getTime(), updatepos: false }, this.moduleApiData[i]);\n        if (item.viewIndex + 1 > this.moduleData.length) {\n          //添加不够的屏数\n          for (var k = this.moduleData.length; k < item.viewIndex + 1; k++) {\n            this.addModuleAndRect();\n          }\n        }\n        //一个个的添加到moduleData数组里\n        this.moduleData[item.viewIndex].moduleItem.push(item);\n      }\n\n      //过滤掉头有空屏的数据\n      //        this.clearHeadNullModuleData();\n    },\n\n    //过滤掉头有空屏的数据\n    clearHeadNullModuleData: function clearHeadNullModuleData() {\n      var isNull = false;\n      var isRemove = false; //是否有删减空的\n      for (var i = 0; i < this.moduleData.length; i++) {\n        var item = this.moduleData[i];\n        if (!isNull && !item.moduleItem.length) {\n          this.moduleData.splice(i, 1);\n          this.moduleRect.splice(i, 1);\n          i--;\n          isRemove = true;\n        } else {\n          isNull = true;\n        }\n      }\n      //若有删减空的 则moduleData的viewIndex都要重新改变一下\n      if (isRemove) {\n        this.changeItemInData();\n        this.updateApiData();\n        this.$emit(\"drag-change\", this.cloneFirstData(this.moduleApiData));\n      }\n    },\n\n    //改变moduleData 里面所有item 的viewIndex的值 都减 1\n    changeItemInData: function changeItemInData() {\n      for (var i = 0, l = this.moduleData.length; i < l; i++) {\n        var item = this.moduleData[i].moduleItem;\n        for (var j = 0, k = item.length; j < k; j++) {\n          item[j].viewIndex = i;\n        }\n      }\n    },\n\n    //过滤掉后面空屏的数据 moduleData\n    clearNullLast: function clearNullLast() {\n      var isNull = true;\n      for (var i = this.moduleData.length - 1; i >= 0; i--) {\n        var item = this.moduleData[i];\n        if (!item.moduleItem.length && isNull) {\n          this.moduleData.pop();\n          this.moduleRect.pop();\n        } else {\n          isNull = false;\n        }\n      }\n    },\n\n    //切换屏幕\n    turnRightView: function turnRightView() {\n      var isRight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (isRight) {\n        this.currentView++;\n      } else {\n        this.currentView--;\n      }\n      this.targetCurrentView = this.currentView;\n    },\n\n    //右键\n    contextMenu: function contextMenu() {\n      this.showDragMenu = true;\n\n      var _$refs$deskDragBox$ge = this.$refs.deskDragBox.getBoundingClientRect(),\n          left = _$refs$deskDragBox$ge.left,\n          top = _$refs$deskDragBox$ge.top,\n          width = _$refs$deskDragBox$ge.width,\n          height = _$refs$deskDragBox$ge.height;\n\n      if (event.clientX - left + 130 > width) {\n        this.rightMenuStyle.left = width - 130 + left + 'px';\n      } else {\n        this.rightMenuStyle.left = event.pageX - left + 'px';\n      }\n\n      if (event.clientY - top + 50 > height) {\n        this.rightMenuStyle.top = height + top - 50 + 'px';\n      } else {\n        this.rightMenuStyle.top = event.pageY - top + 'px';\n      }\n    },\n    dragClickOutside: function dragClickOutside() {\n      this.showDragMenu = false;\n    },\n\n    //取消固定\n    cancelDragFixed: function cancelDragFixed() {\n      this.deleteModuleItemData(this.selectModule); //删除临时显示数据块\n      this.setRectStatus(this.selectModule); //删除对应矩阵\n      //更新数据源\n      this.updateApiData();\n      this.showDragMenu = false; //隐藏右键信息\n      this.$emit('drag-delete', this.selectModule, this.cloneFirstData(this.moduleApiData));\n    },\n\n    //双击组件\n    dragDblClick: function dragDblClick(d) {\n      this.$emit('drag-dblclick', d);\n    }\n  },\n  created: function created() {\n    this.isMouserWheel = false;\n    this.minWindowWidth = 930;\n    this.minWindowHeight = 478;\n    //必须先重置一下 重新创建移动层\n    this.monitorWidthHeight();\n    this.createSpaceRect();\n  },\n  mounted: function mounted() {\n    //获取科室列表\n    //      this.$ajaxPost(window.path + '/portal/modules/getDeptInfo.do',{staffNo:window.uiUserInfo.staffNo}).then((res)=>{\n    //        this.deptIdList = res;\n    //      });\n  }\n};\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  replace: true,\n  name: 'TDraggableResizable',\n  props: {\n    active: {\n      type: Boolean, default: false\n    },\n    draggable: {\n      type: Boolean, default: true\n    },\n    resizable: {\n      type: Boolean, default: true\n    },\n    w: {\n      type: Number,\n      default: 200,\n      validator: function validator(val) {\n        return val > 0;\n      }\n    },\n    h: {\n      type: Number,\n      default: 200,\n      validator: function validator(val) {\n        return val > 0;\n      }\n    },\n    minw: {\n      type: Number,\n      default: 50,\n      validator: function validator(val) {\n        return val > 0;\n      }\n    },\n    minh: {\n      type: Number,\n      default: 50,\n      validator: function validator(val) {\n        return val > 0;\n      }\n    },\n    x: {\n      type: Number,\n      default: 0,\n      validator: function validator(val) {\n        return typeof val === 'number';\n      }\n    },\n    y: {\n      type: Number,\n      default: 0,\n      validator: function validator(val) {\n        return typeof val === 'number';\n      }\n    },\n    z: {\n      type: [String, Number],\n      default: 'auto',\n      validator: function validator(val) {\n        var valid = typeof val === 'string' ? val === 'auto' : val >= 0;\n        return valid;\n      }\n    },\n    handles: {\n      type: Array,\n      default: function _default() {\n        return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml'];\n      }\n    },\n    axis: {\n      type: String,\n      default: 'both',\n      validator: function validator(val) {\n        return ['x', 'y', 'both'].indexOf(val) !== -1;\n      }\n    },\n    grid: {\n      type: Array,\n      default: function _default() {\n        return [1, 1];\n      }\n    },\n    parent: {\n      type: Boolean, default: false\n    },\n    maximize: {\n      type: Boolean, default: false\n    },\n    updatepos: {\n      type: Boolean, default: false\n    }\n  },\n  created: function created() {\n    this.parentX = 0;\n    this.parentW = 9999;\n    this.parentY = 0;\n    this.parentH = 9999;\n\n    this.mouseX = 0;\n    this.mouseY = 0;\n\n    this.lastMouseX = 0;\n    this.lastMouseY = 0;\n\n    this.mouseOffX = 0;\n    this.mouseOffY = 0;\n\n    this.elmX = 0;\n    this.elmY = 0;\n\n    this.elmW = 0;\n    this.elmH = 0;\n  },\n  mounted: function mounted() {\n    document.documentElement.addEventListener('mousemove', this.handleMove, true);\n    document.documentElement.addEventListener('mousedown', this.deselect, true);\n    document.documentElement.addEventListener('mouseup', this.handleUp, true);\n\n    this.elmX = parseInt(this.$el.style.left);\n    this.elmY = parseInt(this.$el.style.top);\n    this.elmW = this.$el.offsetWidth || this.$el.clientWidth;\n    this.elmH = this.$el.offsetHeight || this.$el.clientHeight;\n\n    this.reviewDimensions();\n    this.zIndex = 'auto';\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.documentElement.removeEventListener('mousemove', this.handleMove, true);\n    document.documentElement.removeEventListener('mousedown', this.deselect, true);\n    document.documentElement.removeEventListener('mouseup', this.handleUp, true);\n  },\n  data: function data() {\n    return {\n      top: this.y,\n      left: this.x,\n      width: this.w,\n      height: this.h,\n      resizing: false,\n      dragging: false,\n      enabled: this.active,\n      handle: null,\n      zIndex: this.z\n    };\n  },\n  methods: {\n    reviewDimensions: function reviewDimensions() {\n      if (this.minw > this.w) this.width = this.minw;\n\n      if (this.minh > this.h) this.height = this.minh;\n\n      if (this.parent) {\n        var parentW = parseInt(this.$el.parentNode.clientWidth, 10);\n        var parentH = parseInt(this.$el.parentNode.clientHeight, 10);\n\n        this.parentW = parentW;\n        this.parentH = parentH;\n\n        if (this.w > this.parentW) this.width = parentW;\n\n        if (this.h > this.parentH) this.height = parentH;\n\n        if (this.x + this.w > this.parentW) this.width = parentW - this.x;\n\n        if (this.y + this.h > this.parentH) this.height = parentH - this.y;\n\n        this.elmW = this.width;\n        this.elmH = this.height;\n      }\n    },\n    elmDown: function elmDown(e) {\n      var target = e.target || e.srcElement;\n\n      //点击的对象在组件的内部 则触发相应的 可以在这边控制哪些内容不能拖拽\n      if (this.$el.contains(target)) {\n        this.reviewDimensions();\n\n        if (!this.enabled) {\n          this.enabled = true;\n\n          this.$emit('activated', this);\n          this.$emit('update:active', true);\n        }\n\n        if (this.draggable) {\n          this.dragging = true;\n        }\n      }\n    },\n    deselect: function deselect(e) {\n      //      this.$nextTick(()=>{ //todo $nextTick可能需要用到\n      this.mouseX = e.pageX || e.clientX + document.documentElement.scrollLeft;\n      this.mouseY = e.pageY || e.clientY + document.documentElement.scrollTop;\n\n      this.lastMouseX = this.mouseX;\n      this.lastMouseY = this.mouseY;\n\n      var target = e.target || e.srcElement;\n      var regex = new RegExp('handle-([trmbl]{2})', '');\n\n      if (!this.$el.contains(target) && !regex.test(target.className)) {\n        if (this.enabled) {\n          this.enabled = false;\n\n          this.$emit('deactivated');\n          this.$emit('update:active', false);\n        }\n      }\n      //      });\n    },\n    handleDown: function handleDown(handle, e) {\n      this.handle = handle;\n\n      if (e.stopPropagation) e.stopPropagation();\n      if (e.preventDefault) e.preventDefault();\n\n      this.resizing = true;\n    },\n    fillParent: function fillParent(e) {\n      var _this = this;\n\n      if (!this.parent || !this.resizable || !this.maximize) return;\n\n      var done = false;\n\n      var animate = function animate() {\n        if (!done) {\n          window.requestAnimationFrame(animate);\n        }\n\n        if (_this.axis === 'x') {\n          if (_this.width === _this.parentW && _this.left === _this.parentX) done = true;\n        } else if (_this.axis === 'y') {\n          if (_this.height === _this.parentH && _this.top === _this.parentY) done = true;\n        } else if (_this.axis === 'both') {\n          if (_this.width === _this.parentW && _this.height === _this.parentH && _this.top === _this.parentY && _this.left === _this.parentX) done = true;\n        }\n\n        if (_this.axis === 'x' || _this.axis === 'both') {\n          if (_this.width < _this.parentW) {\n            _this.width++;\n            _this.elmW++;\n          }\n\n          if (_this.left > _this.parentX) {\n            _this.left--;\n            _this.elmX--;\n          }\n        }\n\n        if (_this.axis === 'y' || _this.axis === 'both') {\n          if (_this.height < _this.parentH) {\n            _this.height++;\n            _this.elmH++;\n          }\n\n          if (_this.top > _this.parentY) {\n            _this.top--;\n            _this.elmY--;\n          }\n        }\n        _this.zIndex = 1000; //todo 缩放时提高zIndex值\n        _this.$emit('resizing', _this);\n      };\n\n      window.requestAnimationFrame(animate);\n    },\n    handleMove: function handleMove(e) {\n      this.mouseX = e.pageX || e.clientX + document.documentElement.scrollLeft;\n      this.mouseY = e.pageY || e.clientY + document.documentElement.scrollTop;\n\n      var diffX = this.mouseX - this.lastMouseX + this.mouseOffX;\n      var diffY = this.mouseY - this.lastMouseY + this.mouseOffY;\n\n      this.mouseOffX = this.mouseOffY = 0;\n\n      this.lastMouseX = this.mouseX;\n      this.lastMouseY = this.mouseY;\n\n      var dX = diffX;\n      var dY = diffY;\n\n      if (this.resizing) {\n        if (this.handle.indexOf('t') >= 0) {\n          if (this.elmH - dY < this.minh) this.mouseOffY = dY - (diffY = this.elmH - this.minh);else if (this.elmY + dY < this.parentY) this.mouseOffY = dY - (diffY = this.parentY - this.elmY);\n          this.elmY += diffY;\n          this.elmH -= diffY;\n        }\n\n        if (this.handle.indexOf('b') >= 0) {\n          if (this.elmH + dY < this.minh) this.mouseOffY = dY - (diffY = this.minh - this.elmH);else if (this.elmY + this.elmH + dY > this.parentH) this.mouseOffY = dY - (diffY = this.parentH - this.elmY - this.elmH);\n          this.elmH += diffY;\n        }\n\n        if (this.handle.indexOf('l') >= 0) {\n          if (this.elmW - dX < this.minw) this.mouseOffX = dX - (diffX = this.elmW - this.minw);else if (this.elmX + dX < this.parentX) this.mouseOffX = dX - (diffX = this.parentX - this.elmX);\n          this.elmX += diffX;\n          this.elmW -= diffX;\n        }\n\n        if (this.handle.indexOf('r') >= 0) {\n          if (this.elmW + dX < this.minw) this.mouseOffX = dX - (diffX = this.minw - this.elmW);else if (this.elmX + this.elmW + dX > this.parentW) this.mouseOffX = dX - (diffX = this.parentW - this.elmX - this.elmW);\n          this.elmW += diffX;\n        }\n\n        this.left = Math.round(this.elmX / this.grid[0]) * this.grid[0];\n        this.top = Math.round(this.elmY / this.grid[1]) * this.grid[1];\n\n        this.width = Math.round(this.elmW / this.grid[0]) * this.grid[0];\n        this.height = Math.round(this.elmH / this.grid[1]) * this.grid[1];\n\n        this.zIndex = 1000; //todo 缩放时提高zIndex值\n        this.$emit('resizing', this);\n      } else if (this.dragging) {\n\n        this.zIndex = 1000; //todo 移动时提高zIndex值\n        if (this.parent) {\n          if (this.elmX + dX < this.parentX) this.mouseOffX = dX - (diffX = this.parentX - this.elmX);else if (this.elmX + this.elmW + dX > this.parentW) this.mouseOffX = dX - (diffX = this.parentW - this.elmX - this.elmW);\n\n          if (this.elmY + dY < this.parentY) this.mouseOffY = dY - (diffY = this.parentY - this.elmY);else if (this.elmY + this.elmH + dY > this.parentH) this.mouseOffY = dY - (diffY = this.parentH - this.elmY - this.elmH);\n        }\n\n        this.elmX += diffX;\n        this.elmY += diffY;\n        if (this.axis === 'x' || this.axis === 'both') {\n          this.left = Math.round(this.elmX / this.grid[0]) * this.grid[0];\n        }\n        if (this.axis === 'y' || this.axis === 'both') {\n          this.top = Math.round(this.elmY / this.grid[1]) * this.grid[1];\n        }\n        this.$emit('dragging', this);\n      }\n    },\n    handleUp: function handleUp(e) {\n      this.handle = null;\n      if (this.resizing) {\n        this.resizing = false;\n        this.zIndex = 'auto'; //todo 缩放结束是zIndex值为auto\n        this.$emit('resizestop', this);\n      }\n      if (this.dragging) {\n        this.dragging = false;\n        this.zIndex = 'auto'; //todo 移动结束是zIndex值为auto\n        this.$emit('dragstop', this);\n      }\n\n      this.elmX = this.left;\n      this.elmY = this.top;\n    },\n\n    //改变位置\n    changePos: function changePos(left, top) {\n      this.left = left;\n      this.top = top;\n      this.elmX = left;\n      this.elmY = top;\n    }\n  },\n  computed: {\n    style: function style() {\n      return {\n        top: this.top + 'px',\n        left: this.left + 'px',\n        width: this.width + 'px',\n        height: this.height + 'px',\n        zIndex: this.zIndex\n      };\n    }\n  },\n  watch: {\n    active: function active(val) {\n      this.enabled = val;\n    },\n    z: function z(val) {\n      if (val >= 0 || val === 'auto') {\n        this.zIndex = val;\n      }\n    },\n    x: function x(val) {\n      this.left = val;\n      this.elmX = val;\n    },\n    y: function y(val) {\n      this.top = val;\n      this.elmY = val;\n    },\n\n    updatepos: function updatepos(val) {\n      this.left = this.x;\n      this.top = this.y;\n      //解决外界手动改变x y时elmX没有同步的bug\n      this.elmX = this.x;\n      this.elmY = this.y;\n\n      this.width = this.w;\n      this.height = this.h;\n      this.elmW = this.w;\n      this.elmH = this.h;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  name: 'TDeskDragDemo',\n  data: function data() {\n    return {\n      width: 1366,\n      height: 687,\n      dataLength: 0\n    };\n  },\n\n  methods: {\n    dragDeleteEn: function dragDeleteEn(avl, arr) {\n      this.dataLength = arr.length;\n    },\n    dragChangeEn: function dragChangeEn(arr) {\n      this.dataLength = arr.length;\n    },\n    handleClick: function handleClick() {\n      var obj = {\n        left: 0, top: 0, width: 1, height: 1,\n        id: \"\" + new Date().getTime(), viewIndex: 0, portletColor: \"dragColor\" + this.dataLength % 4,\n        portletName: \"测试\" + this.dataLength, portletImage: \"iconfont icon-beihuoguanli\"\n      };\n      this.$refs.deskDrag.addByItem(obj);\n      this.dataLength++;\n    },\n    resize: function resize() {\n      var w = $(window).width() - 100;\n      var h = $(window).height();\n      this.width = w;\n      this.height = h;\n    }\n  },\n  mounted: function mounted() {\n    //用于高亮显示代码\n    var arr = [{\n      left: 0, top: 0, width: 1, height: 1,\n      id: 'a1000002', viewIndex: 0, portletColor: \"dragColor4\",\n      portletName: \"测试\", portletImage: \"iconfont icon-beihuoguanli\"\n    }];\n    this.$refs.deskDrag.updateDragPos(arr);\n\n    this.resize();\n    window.addEventListener(\"resize\", this.resize);\n  }\n};\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(79);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vueRouter = __webpack_require__(425);\n\nvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vueRouter2.default);\n\nexports.default = new _vueRouter2.default({\n  routes: []\n});\n\n/***/ }),\n\n/***/ 410:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 411:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 412:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 413:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 414:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 415:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 419:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(120)(\n  /* script */\n  __webpack_require__(172),\n  /* template */\n  __webpack_require__(423),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 420:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(414)\n}\nvar Component = __webpack_require__(120)(\n  /* script */\n  __webpack_require__(173),\n  /* template */\n  __webpack_require__(422),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-4343f29b\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 421:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(415)\n}\nvar Component = __webpack_require__(120)(\n  /* script */\n  __webpack_require__(174),\n  /* template */\n  __webpack_require__(424),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-f06297e2\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 422:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"vdr t_draggable_resizable\",\n    class: {\n      draggable: _vm.draggable, resizable: _vm.resizable, active: _vm.enabled, dragging: _vm.dragging, resizing: _vm.resizing\n    },\n    style: (_vm.style),\n    on: {\n      \"mousedown\": function($event) {\n        $event.stopPropagation();\n        return _vm.elmDown($event)\n      },\n      \"dblclick\": _vm.fillParent\n    }\n  }, [_vm._l((_vm.handles), function(handle) {\n    return (_vm.resizable) ? _c('div', {\n      staticClass: \"handle\",\n      class: 'handle-' + handle,\n      style: ({\n        display: _vm.enabled ? 'block' : 'block'\n      }),\n      on: {\n        \"mousedown\": function($event) {\n          $event.stopPropagation();\n          $event.preventDefault();\n          _vm.handleDown(handle, $event)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), _vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 423:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"deskDragBox\",\n    staticClass: \"t_desk_drag main_page\",\n    on: {\n      \"mousewheel\": _vm.mouseWheel,\n      \"DOMMouseScroll\": _vm.mouseWheel\n    }\n  }, [_c('div', {\n    staticClass: \"main_page_item\",\n    class: {\n      'drag_stop': _vm.itemDragStop, 'resizing': _vm.itemResizing\n    },\n    style: (_vm.movePageStyle)\n  }, [_vm._l((_vm.moveSpaceData), function(d, index) {\n    return _c('div', {\n      key: d.uiKey,\n      staticClass: \"main_move_inner\",\n      style: ({\n        width: _vm.tarWidth + 'px'\n      })\n    }, [_c('div', {\n      staticClass: \"main_move_item\",\n      style: ({\n        width: _vm.rectWidth * _vm.blockWidth + 'px'\n      })\n    }, _vm._l((d.moduleItem), function(dd) {\n      return _c('div', {\n        key: dd.id,\n        staticClass: \"move_item\",\n        style: ({\n          height: dd.height * _vm.blockWidth + 'px',\n          width: dd.width * _vm.blockWidth + 'px',\n          left: dd.left * _vm.blockWidth + 'px',\n          top: dd.top * _vm.blockWidth + 'px'\n        })\n      }, [_c('div', {\n        staticClass: \"mover_item_inner\"\n      })])\n    }))])\n  }), _vm._v(\" \"), _vm._l((_vm.moduleData), function(d, index) {\n    return _vm._l((d.moduleItem), function(dd) {\n      return _c('t-draggable-resizable', {\n        key: dd.uiId,\n        staticClass: \"module_item\",\n        class: {\n          'has_url': dd.portletUrl && (dd.width >= _vm.urlMinHeight && dd.height >= _vm.urlMinWidth || dd.height >= _vm.urlMinHeight && dd.width >= _vm.urlMinWidth)\n        },\n        attrs: {\n          \"w\": dd.width * _vm.blockWidth,\n          \"h\": dd.height * _vm.blockWidth,\n          \"minw\": _vm.blockWidth,\n          \"minh\": _vm.blockWidth,\n          \"x\": dd.left * _vm.blockWidth + dd.viewIndex * _vm.tarWidth + _vm.offLeft,\n          \"y\": dd.top * _vm.blockWidth,\n          \"handles\": ['tl', 'br'],\n          \"updatepos\": dd.updatepos,\n          \"draggable\": _vm.isfixed != '1',\n          \"resizable\": _vm.isfixed != '1'\n        },\n        on: {\n          \"activated\": function($event) {\n            _vm.activated($event, dd)\n          },\n          \"deactivated\": _vm.deactivated,\n          \"resizestop\": function($event) {\n            _vm.resizestop($event, dd)\n          },\n          \"resizing\": function($event) {\n            _vm.resizing($event, dd)\n          },\n          \"dragstop\": _vm.dragstop,\n          \"dragging\": function($event) {\n            _vm.dragging($event, dd)\n          }\n        },\n        nativeOn: {\n          \"contextmenu\": function($event) {\n            $event.preventDefault();\n            $event.stopPropagation();\n            _vm.contextMenu()\n          },\n          \"dblclick\": function($event) {\n            $event.preventDefault();\n            _vm.dragDblClick(dd)\n          }\n        }\n      }, [_c('div', {\n        staticClass: \"module_item_inner\",\n        class: dd.portletColor || 'dragColor4'\n      }, [(dd.portletUrl && (dd.width >= _vm.urlMinHeight && dd.height >= _vm.urlMinWidth || dd.height >= _vm.urlMinHeight && dd.width >= _vm.urlMinWidth)) ? [_c('div', {\n        staticClass: \"module_item_tt\"\n      }, [_c('i', {\n        staticClass: \"navIcon\",\n        class: dd.portletImage\n      }), _vm._v(\"\\n              \" + _vm._s(dd.portletName) + \"\\n              \"), _c('div', {\n        staticClass: \"module_item_operate\"\n      }, [_c('i', {\n        staticClass: \"zoeIconfont z_refresh_normal icon_refresh\",\n        on: {\n          \"dblclick\": function($event) {\n            $event.stopPropagation();\n          },\n          \"click\": function($event) {\n            $event.stopPropagation();\n            return _vm.moduleItemRefreshEvn($event)\n          }\n        }\n      })])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"module_item_url\"\n      }, [_c('div', {\n        staticClass: \"module_mask\"\n      }), _vm._v(\" \"), _c('iframe', {\n        attrs: {\n          \"id\": 'module_item_' + dd.uiId,\n          \"data-frame-id\": \"comPortalPage\",\n          \"src\": dd.portletUrl,\n          \"frameborder\": \"0\",\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"scrolling\": \"no\"\n        }\n      })])] : [_c('i', {\n        staticClass: \"module_item_icon\",\n        class: dd.portletImage || 'z_menuD_normal'\n      }), _vm._v(\" \"), _c('div', {\n        staticClass: \"module_item_bottom ellipsis\"\n      }, [_vm._v(_vm._s(dd.portletName))])]], 2)])\n    })\n  })], 2), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentView + 1 < _vm.moduleData.length),\n      expression: \"currentView+1<moduleData.length\"\n    }],\n    staticClass: \"main_btn btn_right\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-right\",\n    on: {\n      \"click\": function($event) {\n        _vm.turnRightView(true)\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentView > 0 && _vm.mainLeft < 0),\n      expression: \"currentView>0 && mainLeft<0\"\n    }],\n    staticClass: \"main_btn btn_left\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-left\",\n    on: {\n      \"click\": function($event) {\n        _vm.turnRightView(false)\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"clickoutside\",\n      rawName: \"v-clickoutside\",\n      value: (_vm.dragClickOutside),\n      expression: \"dragClickOutside\"\n    }, {\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showDragMenu),\n      expression: \"showDragMenu\"\n    }],\n    staticClass: \"com_main_drag_menu\",\n    style: (_vm.rightMenuStyle)\n  }, [_c('ul', [_c('li', {\n    staticClass: \"menu_item\",\n    on: {\n      \"click\": _vm.cancelDragFixed\n    }\n  }, [_vm._v(\"取消固定\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"drag_page_box\",\n    style: (_vm.dragPageStyle)\n  }, [_c('ul', {\n    staticClass: \"drag_page_box_inner clearfix\"\n  }, _vm._l((_vm.moduleData), function(d, index) {\n    return _c('li', {\n      class: {\n        selected: _vm.targetCurrentView == _vm.currentView ? index == _vm.currentView : index == _vm.targetCurrentView\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.currentView = _vm.targetCurrentView = index\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"drag_page_target\"\n    })])\n  }))])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 424:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"contain\"\n  }, [_c('div', {\n    staticClass: \"menu\"\n  }, [_c('h1', [_vm._v(\"桌面布局\")]), _vm._v(\" \"), _c('ul', [_c('li', [_c('button', {\n    on: {\n      \"click\": _vm.handleClick\n    }\n  }, [_vm._v(\"添加块\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('t-desk-drag', {\n    ref: \"deskDrag\",\n    staticClass: \"themeType\",\n    attrs: {\n      \"width\": _vm.width,\n      \"height\": _vm.height\n    },\n    on: {\n      \"drag-change\": _vm.dragChangeEn,\n      \"drag-delete\": _vm.dragDeleteEn\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 427:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(166);\nmodule.exports = __webpack_require__(165);\n\n\n/***/ })\n\n},[427]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.1a05abff088165f061cf.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport Index from './Index'\r\nimport router from './router'\r\nimport \"./assets/css/reset.css\";\r\nimport \"./assets/css/common.css\";\r\nimport \"./assets/iconfont/iconfont.css\";\r\nimport \"../components/packages/theme/default/index.scss\";\r\nimport components from \"../components/src\";\r\n\r\nVue.use(components);\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<Index/>',\r\n  components: {Index}\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import DeskDrag from './src/desk-drag';\r\n\r\nDeskDrag.install = function(Vue) {\r\n  Vue.component(DeskDrag.name, DeskDrag);\r\n};\r\n\r\nexport default DeskDrag;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/packages/desk-drag/index.js","import DraggableResizable from './src/draggable-resizable';\r\n\r\n/* istanbul ignore next */\r\nDraggableResizable.install = function(Vue) {\r\n  Vue.component(DraggableResizable.name, DraggableResizable);\r\n};\r\n\r\nexport default DraggableResizable;\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/packages/draggable-resizable/index.js","import DraggableResizable from \"../packages/draggable-resizable/index.js\";\r\nimport DeskDrag from \"../packages/desk-drag/index.js\";\r\nimport Clickoutside from './utils/clickoutside.js';\r\n\r\n\r\n\r\nconst components = [\r\n  DraggableResizable,\r\n  DeskDrag\r\n];\r\n\r\nconst install = function(Vue){\r\n  components.forEach(component => {\r\n    Vue.component(component.name,component)\r\n  })\r\n  Vue.directive('clickoutside',Clickoutside);//自定义指令 v-clickoutside   点击其他地方触发的指令\r\n};\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue);\r\n}\r\n\r\nexport default{\r\n  version: '1.0.0',\r\n  install,\r\n  DraggableResizable,\r\n  DeskDrag\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/src/index.js","import Vue from 'vue';\r\nimport { on } from './dom';\r\n\r\nconst nodeList = [];\r\nconst ctx = '@@clickoutsideContext';\r\n\r\nlet startClick;\r\n\r\n!Vue.prototype.$isServer && on(document, 'mousedown', e => (startClick = e));\r\n\r\n!Vue.prototype.$isServer && on(document, 'mouseup', e => {\r\n  nodeList.forEach(node => node[ctx].documentHandler(e, startClick));\r\n});\r\n/**\r\n * v-clickoutside\r\n * @desc 点击元素外面才会触发的事件\r\n * @example\r\n * ```vue\r\n * <div v-element-clickoutside=\"handleClose\">\r\n * ```\r\n */\r\nexport default {\r\n  bind(el, binding, vnode) {\r\n    const id = nodeList.push(el) - 1;\r\n    const documentHandler = function(mouseup = {}, mousedown = {}) {\r\n      if (!vnode.context ||\r\n        !mouseup.target ||\r\n        !mousedown.target ||\r\n        el.contains(mouseup.target) ||\r\n        el.contains(mousedown.target) ||\r\n        el === mouseup.target ||\r\n        (vnode.context.popperElm &&\r\n        (vnode.context.popperElm.contains(mouseup.target) ||\r\n        vnode.context.popperElm.contains(mousedown.target)))) return;\r\n\r\n      if (binding.expression &&\r\n        el[ctx].methodName &&\r\n        vnode.context[el[ctx].methodName]) {\r\n        vnode.context[el[ctx].methodName]();\r\n      } else {\r\n        el[ctx].bindingFn && el[ctx].bindingFn();\r\n      }\r\n    };\r\n    el[ctx] = {\r\n      id,\r\n      documentHandler,\r\n      methodName: binding.expression,\r\n      bindingFn: binding.value\r\n    };\r\n  },\r\n\r\n  update(el, binding) {\r\n    el[ctx].methodName = binding.expression;\r\n    el[ctx].bindingFn = binding.value;\r\n  },\r\n\r\n  unbind(el) {\r\n    let len = nodeList.length;\r\n\r\n    for (let i = 0; i < len; i++) {\r\n      if (nodeList[i][ctx].id === el[ctx].id) {\r\n        nodeList.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/src/utils/clickoutside.js","/**\r\n * Created by lhn on 2017/8/15.\r\n */\r\nimport Vue from 'vue'\r\nconst isServer = Vue.prototype.$isServer;\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;//特殊字符匹配 :-_\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/;//对mozilla进行特殊判断，即firefox\r\nconst ieVersion = isServer ? 0 : Number(document.documentMode);//判断ie的版本号\r\n/**\r\n * 去掉头尾空格\r\n * @param string\r\n * @returns {string}\r\n */\r\nconst trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\r\n};\r\n/**\r\n * 将:-_等变成驼峰式，如foo-bar变成fooBar\r\n * @param name 要处理的字符串\r\n * @returns {*}\r\n */\r\nconst camelCase = function (name) {\r\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n    return offset ? letter.toUpperCase() : letter;//// 开头的不大写，其余的大写\r\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1'); // 对moz进行特殊处理\r\n};\r\n/**\r\n * 添加事件监听\r\n * @param element 要监听的元素\r\n * @param event 要监听的事件\r\n * @param handler 要执行的函数\r\n */\r\nexport const on = (function () {\r\n  if (!isServer && document.addEventListener) {// 浏览器环境，且非IE9以下版本\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false);\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent(\"on\" + event, handler);\r\n      }\r\n    }\r\n  }\r\n})();\r\n/**\r\n * 移除事件监听\r\n * @param element 监听的元素\r\n * @param event 监听的事件\r\n * @param handler 执行的函数\r\n */\r\nexport const off = (function () {\r\n  if (!isServer && document.removeEventListener) {// 浏览器环境，且非IE9以下版本\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false);\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.detachEvent(\"on\" + event, handler);\r\n      }\r\n    }\r\n  }\r\n})();\r\n/**\r\n * 绑定一次性事件监听\r\n * @param el 要监听的元素\r\n * @param event 要监听的事件\r\n * @param fn 回调函数\r\n */\r\nexport const once = function (element, event, handler) {\r\n  var listener = function () {\r\n    if (handler) {\r\n      handler.apply(this, arguments);\r\n    }\r\n    off(element, event, listener);//执行完后解绑\r\n  }\r\n  on(element, event, listener);\r\n};\r\n/**\r\n * 判断是否包含某类\r\n * @param el 要检测的元素\r\n * @param cls 要检测的类名\r\n * @returns {boolean}\r\n */\r\nexport const hasClass = function (element, cls) {\r\n  if (!element || !cls) return false;\r\n  if (cls.indexOf(\" \") != -1)throw new Error('className should not contain space.');\r\n  if (element.classList) {//IE9 以上才有 h5的新特性\r\n    return element.classList.contains(cls);\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\r\n  }\r\n};\r\n/**\r\n * 给元素添加某些类\r\n * @param el 要处理的元素\r\n * @param cls 要添加的类 空格隔开\r\n */\r\nexport function addClass(el, cls) {\r\n  if (!el) return;\r\n  var curClass = el.className;\r\n  const clss = (cls || '').split(\" \");\r\n  for (let i = 0, j = clss.length; i < j; i++) {\r\n    var clName = clss[i];\r\n    if (!clName)continue;\r\n    if (el.classList) {\r\n      el.classList.add(clName);\r\n    } else {\r\n      if (!hasClass(el, clName)) {\r\n        curClass += ' ' + clName;\r\n      }\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass;\r\n  }\r\n};\r\n/**\r\n * 给元素移除某些类\r\n * @param el 要处理的元素\r\n * @param cls 要移除的类  空格隔开\r\n */\r\nexport function removeClass(el, cls) {\r\n  if (!el || !cls) return;\r\n  const clss = (cls || '').split(\" \");\r\n  var curClass = ' ' + el.className + ' ';\r\n  for (let i = 0, j = clss.length; i < j; i++) {\r\n    var clName = clss[i];\r\n    if (!clName)continue;\r\n    if (el.classList) {\r\n      el.classList.remove(clName);\r\n    } else {\r\n      if (hasClass(el, clName)) {\r\n        curClass = curClass.replace(' ' + clName + ' ', ' ');\r\n      }\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass);\r\n  }\r\n};\r\n/**\r\n * 获取样式，分IE9一下和其他两种方式处理,虽然有重复代码，但是性能最优\r\n * @type {Function}\r\n * @param element 要获取样式的元素\r\n * @param styleName 要获取的样式名\r\n */\r\nexport const getStyle = ieVersion < 9 ? function (element, styleName) {\r\n  if (isServer) return;\r\n  if (!element || !styleName) return null;\r\n  styleName = camelCase(styleName);\r\n  if (styleName === 'float') {\r\n    styleName = 'styleFloat';\r\n  }\r\n  try {\r\n    switch (styleName) {\r\n      case 'opacity':\r\n      {\r\n        try {\r\n          return element.filters.item('alpha').opacity / 100;\r\n        } catch (e) {\r\n          return 1.0;\r\n        }\r\n      }\r\n      default:\r\n        return (element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null);\r\n    }\r\n  } catch (e) {\r\n    return element.style[styleName];\r\n  }\r\n} : function (element, styleName) {\r\n  if (isServer) return;\r\n  if (!element || !styleName) return null;\r\n  styleName = camelCase(styleName);\r\n  if (styleName === 'float') {\r\n    styleName = 'cssFloat';\r\n  }\r\n  try {\r\n    var computed = document.defaultView.getComputedStyle(element, '');\r\n    return element.style[styleName] || computed ? computed[styleName] : null;\r\n  } catch (e) {\r\n    return element.style[styleName];\r\n  }\r\n};\r\n/**\r\n * 设置元素的样式\r\n * @param element 要设置的元素\r\n * @param styleName 要设置的样式  支持json对象，当为对象时，value 就没有了\r\n * @param value 要设置的值\r\n */\r\nexport function setStyle(element, styleName, value) {\r\n  if (!element || !styleName)return;\r\n  if (typeof styleName === 'object') {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {//函数用于指示一个对象自身(不包括原型链)是否具有指定名称的属性\r\n        setStyle(element, prop, styleName[prop]);\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName);\r\n    if (styleName === 'opacity' && ieVersion < 9) {\r\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')';\r\n    } else {\r\n      element.style[styleName] = value;\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/src/utils/dom.js","<template>\r\n  <!--主要的算法页面-->\r\n  <div class=\"t_desk_drag main_page\" ref='deskDragBox' @mousewheel=\"mouseWheel\" @DOMMouseScroll=\"mouseWheel\">\r\n    <div\r\n      class=\"main_page_item\"\r\n      :class=\"{'drag_stop':itemDragStop,'resizing':itemResizing}\"\r\n      :style=\"movePageStyle\"\r\n    >\r\n      <!--可以移动的图层-->\r\n      <div\r\n        v-for=\"(d,index) in moveSpaceData\" :key=\"d.uiKey\" class=\"main_move_inner\"\r\n        :style=\"{width:tarWidth+'px'}\"\r\n      >\r\n        <div class=\"main_move_item\" :style=\"{width: rectWidth*blockWidth+'px'}\">\r\n          <div\r\n            v-for=\"dd in d.moduleItem\" :key=\"dd.id\" class=\"move_item\"\r\n            :style=\"{\r\n                height:dd.height*blockWidth+'px',width:dd.width*blockWidth+'px',\r\n                left:dd.left*blockWidth+'px',\r\n                top:dd.top*blockWidth+'px'\r\n                }\"\r\n          ><div class=\"mover_item_inner\"></div></div>\r\n        </div>\r\n      </div>\r\n\r\n      <template\r\n        v-for=\"(d,index) in moduleData\"\r\n      >\r\n        <t-draggable-resizable\r\n          v-for=\"dd in d.moduleItem\" class=\"module_item\"  :key=\"dd.uiId\"\r\n          :w=\"dd.width*blockWidth\" :h=\"dd.height*blockWidth\" :minw=\"blockWidth\" :minh=\"blockWidth\"\r\n          :x=\"dd.left*blockWidth + dd.viewIndex*tarWidth + offLeft\" :y=\"dd.top*blockWidth\"\r\n          :handles=\"['tl','br']\" :updatepos=\"dd.updatepos\"\r\n          :class=\"{'has_url':dd.portletUrl && (dd.width>=urlMinHeight && dd.height>=urlMinWidth || dd.height>=urlMinHeight && dd.width>=urlMinWidth)}\"\r\n          :draggable=\"isfixed!='1'\"\r\n          :resizable=\"isfixed!='1'\"\r\n          @activated=\"activated($event,dd)\"\r\n          @deactivated=\"deactivated\"\r\n          @resizestop=\"resizestop($event,dd)\"\r\n          @resizing=\"resizing($event,dd)\"\r\n          @dragstop=\"dragstop\"\r\n          @dragging=\"dragging($event,dd)\"\r\n          @contextmenu.native.prevent.stop=\"contextMenu()\"\r\n          @dblclick.native.prevent=\"dragDblClick(dd)\"\r\n        >\r\n          <div class=\"module_item_inner\" :class=\"dd.portletColor || 'dragColor4'\">\r\n            <template v-if=\"dd.portletUrl && (dd.width>=urlMinHeight && dd.height>=urlMinWidth || dd.height>=urlMinHeight && dd.width>=urlMinWidth)\">\r\n              <div class=\"module_item_tt\">\r\n                <i class=\"navIcon\" :class=\"dd.portletImage\"></i>\r\n                {{dd.portletName}}\r\n                <div class=\"module_item_operate\">\r\n                  <i class=\"zoeIconfont z_refresh_normal icon_refresh\" @dblclick.stop @click.stop=\"moduleItemRefreshEvn\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"module_item_url\">\r\n                <div class=\"module_mask\"></div>\r\n                <iframe\r\n                  :id=\"'module_item_'+dd.uiId\" data-frame-id=\"comPortalPage\"\r\n                  :src=\"dd.portletUrl\" frameborder=\"0\" width=\"100%\" height=\"100%\" scrolling=\"no\"\r\n                ></iframe>\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              <i class=\"module_item_icon\" :class=\"dd.portletImage || 'z_menuD_normal'\"></i>\r\n              <div class=\"module_item_bottom ellipsis\">{{dd.portletName}}</div>\r\n            </template>\r\n\r\n          </div>\r\n        </t-draggable-resizable>\r\n      </template>\r\n    </div>\r\n\r\n    <!--左右箭头-->\r\n    <div\r\n      class=\"main_btn btn_right\" v-show=\"currentView+1<moduleData.length\"\r\n    ><i\r\n      class=\"iconfont icon-right\"\r\n      @click=\"turnRightView(true)\"\r\n    ></i></div>\r\n    <div\r\n      class=\"main_btn btn_left\" v-show=\"currentView>0 && mainLeft<0\"\r\n    ><i\r\n      class=\"iconfont icon-left\"\r\n      @click=\"turnRightView(false)\"\r\n    ></i></div>\r\n\r\n    <!--组件右键-->\r\n    <div\r\n      class=\"com_main_drag_menu\" v-clickoutside=\"dragClickOutside\"\r\n      v-show=\"showDragMenu\" :style=\"rightMenuStyle\"\r\n    >\r\n      <ul>\r\n        <!--取消固定-->\r\n        <li class=\"menu_item\" @click=\"cancelDragFixed\">取消固定</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <!--显示第几页-->\r\n    <div class=\"drag_page_box\" :style=\"dragPageStyle\">\r\n      <ul class=\"drag_page_box_inner clearfix\">\r\n        <li\r\n          v-for=\"(d,index) in moduleData\" @click=\"currentView=targetCurrentView=index\"\r\n          :class=\"{selected:targetCurrentView==currentView ? index==currentView : index==targetCurrentView}\"\r\n        >\r\n          <div class=\"drag_page_target\"></div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/babel\">\r\n  //===============================\r\n  //@drag-change  组件布局改变触发事件 返回参数： 1.布局源数据\r\n  //@drag-delete  组件取消固定触发事件 返回参数： 1.该组件信息  2.删除后的信息\r\n  //\r\n\r\n  export default{\r\n    name:\"TDeskDrag\",\r\n    data(){\r\n      return {\r\n        itemDragStop:true,//是否是处在拖动停止时的状态 主要用于设置动画效果\r\n        itemResizing:false,//是否是处在缩放时的状态 主要用于设置动画效果\r\n        rectWidth:12,//矩阵的宽度规格\r\n        rectHeight:6,//举证的高度规格\r\n        tarWidth:1280,//屏幕宽度\r\n        blockWidth:104,//块的长宽\r\n        offLeft:0,//左右两边的间距\r\n        moveLeft:0,//向左右移动的距离\r\n        showDragMenu:false,//显示右键\r\n        rightMenuStyle:{\r\n          left:0,top:0\r\n        },//右键位置\r\n\r\n        urlMinWidth:3,//最小显示URL的宽度\r\n        urlMinHeight:2,\r\n\r\n\r\n        currentView:0,//当前显示的是哪个菜单屏\r\n        targetCurrentView:0,//目标移动时位于第几屏\r\n        selectModule:null,//当前移动的格子的数据\r\n        //格式\r\n        //moduleItem: [{left:0,top:0,width:2,height:2,id:'0',viewIndex:0},{}....]\r\n        moduleApiData:[\r\n\r\n        ],\r\n        //菜单的所有数据\r\n        //格式\r\n        // left/top： 对应的坐标\r\n        // width/height： 对应的菜单的宽高\r\n        // id： 对应的菜单的唯一ID\r\n        // viewIndex： 对应的菜单所在的是第几屏\r\n        // [\r\n        //  {\r\n        //    uiKey:1,\r\n        //    moduleItem: [{left:0,top:0,width:2,height:2,id:'0',viewIndex:0},{}....]\r\n        //   },\r\n        //  {\r\n        //    uiKey:2,\r\n        //    moduleItem: [{left:0,top:0,width:2,height:2,id:'0',viewIndex:0},{}....]\r\n        //   },\r\n        // ]\r\n        moduleData:[\r\n          {\r\n            uiKey:1,\r\n            moduleItem:[]\r\n          }\r\n        ],\r\n        //用于显示那些可以移动的位置\r\n        moveSpaceData:[],\r\n\r\n        //curId 代表被组件ID为curId的占用\r\n        //spacePos 可以移动的位置所占用\r\n        //===== 算法矩阵 ====\r\n        //---- 0 1 2 3 4 5 6 7 8 9 ----\r\n        //---- 0 1 2 3 4 5 6 7 8 9 ----\r\n        //---- 0 1 2 3 4 5 6 7 8 9 ----\r\n        //---- 0 1 2 3 4 5 6 7 8 9 ----\r\n        moduleRect:[],\r\n        spaceRect:[],//空矩阵\r\n\r\n//        deptIdList:[],\r\n\r\n      }\r\n    },\r\n    props:{\r\n      width:{\r\n        type:[Number,String],\r\n        default:1346\r\n      },//浏览器的宽度 组件的宽度\r\n      height:{\r\n        type:[Number,String],\r\n        default:739\r\n      },//组件的高度\r\n      sourceData:Array,\r\n      isfixed:String,//是否锁定， 对磁铁不进行拖动， \"1\":代表锁定\r\n    },\r\n    computed:{\r\n      mainLeft(){\r\n        return -this.currentView*this.tarWidth-this.moveLeft;\r\n      },\r\n      //可以移动图层的样式\r\n      movePageStyle(){\r\n        let movePageH = this.rectHeight * this.blockWidth;\r\n        let mainDrag = this.height - movePageH -25;//控件外框真实的宽度 减去 磁铁真实的总宽度\r\n        let difMarginTop = 0;\r\n        //此处计算主要为了市磁铁尽量靠近上方 尽量不要挡住底部桌面菜单\r\n        if(mainDrag<30){\r\n          difMarginTop = Math.abs(mainDrag/2);\r\n        }else if (mainDrag<57){\r\n          difMarginTop = 15 - (mainDrag-30)/2;\r\n        }\r\n        return{\r\n          width:this.tarWidth*this.moduleData.length + \"px\",\r\n          left:-this.currentView*this.tarWidth-this.moveLeft+ \"px\",\r\n          height:this.rectHeight*this.blockWidth + \"px\",\r\n          marginTop:-(this.rectHeight*this.blockWidth)/2-difMarginTop + \"px\"\r\n        };\r\n      },\r\n      //监听width或者height变化\r\n      widthHeight(){\r\n        return this.width + this.height;\r\n      },\r\n      //监听rectWidth或者rectHeight变化\r\n      rectWidthHeight(){\r\n        return this.rectWidth + this.rectHeight;\r\n      },\r\n      dragPageStyle(){\r\n        let movePageH = this.rectHeight * this.blockWidth;\r\n        let mainDrag = this.height - movePageH -25;//控件外框真实的宽度 减去 磁铁真实的总宽度\r\n        if(mainDrag<62){\r\n          return {bottom:0};\r\n        }else {\r\n          let wh = this.height<this.minWindowHeight ? this.minWindowHeight : this.height;\r\n          return {\r\n            top: (wh - 25 - movePageH)/2 + 10 + movePageH +\"px\"\r\n          };\r\n        }\r\n\r\n      }\r\n    },\r\n    watch:{\r\n      //rectWidth或者rectHeight变化时重新渲染布局\r\n      rectWidthHeight(){\r\n        this.createSpaceRect();//重新创建空的矩阵\r\n        this.updateDragPos(this.moduleApiData);\r\n      },\r\n      //width或者height变化的话执行的函数\r\n      widthHeight(){\r\n        this.monitorWidthHeight();\r\n      }\r\n    },\r\n    methods: {\r\n      moduleItemDeptChangeEvn(val=\"\",dd){\r\n        let curIframe = $(\"#module_item_\"+dd.uiId);\r\n        if(!curIframe.length) return;//没有找到该 iframe\r\n        let iframeVm = curIframe[0].contentWindow.iframeVm;\r\n        if(!iframeVm) return;\r\n        if(typeof iframeVm.toChangeDept ===\"function\"){//存在科室选择按钮\r\n          iframeVm.toChangeDept({deptCode:val});\r\n        }\r\n      },\r\n      //调用iframe下的刷新方法\r\n      moduleItemRefreshEvn(e){\r\n        let curIframe = $(e.target).parents(\".module_item_tt\").next(\".module_item_url\").find(\"iframe\");\r\n        if(!curIframe.length) return;//没有找到该 iframe\r\n        curIframe.attr('src', curIframe.attr('src'));\r\n\r\n//        let iframeVm = curIframe[0].contentWindow.iframeVm;\r\n//        if(!iframeVm) return;\r\n//        if(typeof iframeVm.toRefreshItem ===\"function\"){//存在刷新按钮\r\n//          iframeVm.toRefreshItem();\r\n//        }\r\n      },\r\n\r\n\r\n      //滚轮翻页事件\r\n      mouseWheel(e){\r\n        let delta = -e.wheelDelta || e.detail;//firefox使用detail:下3上-3,其他浏览器使用wheelDelta:下-120上120//\r\n        let isTrue = !this.isMouserWheel && (this.currentView+1<this.moduleData.length && delta<0) || (this.currentView>0 && delta>0);\r\n        if(isTrue){\r\n          this.isMouserWheel = true;\r\n          this.turnRightView(delta<0);//delta<0：上滚  delta>0：下滚\r\n          setTimeout(()=>{\r\n            this.isMouserWheel = false;\r\n          },300);\r\n        }\r\n      },\r\n      //监听width或者height的改变\r\n      monitorWidthHeight(){\r\n        let diffWidth = this.width-this.minWindowWidth;\r\n        let diffHeight = this.height-this.minWindowHeight;\r\n        if(diffWidth<=0){\r\n          this.rectWidth=8;\r\n          this.offLeft = (this.minWindowWidth-this.rectWidth*this.blockWidth)/2;\r\n          this.tarWidth = this.minWindowWidth;\r\n        }else {\r\n          this.rectWidth=8+parseInt(diffWidth/this.blockWidth);\r\n          this.offLeft = (this.width-this.rectWidth*this.blockWidth)/2;\r\n          this.tarWidth = this.width;\r\n        }\r\n        if(diffHeight<=0){\r\n          this.rectHeight=4;\r\n        }else {\r\n          this.rectHeight=4+parseInt(diffHeight/this.blockWidth);\r\n        }\r\n      },\r\n      //更新组件信息\r\n      updateDragPos(data=[]){\r\n        let isCheck = false;\r\n        this.moduleApiData=[];\r\n        let curTime = new Date().getTime();\r\n        for(let i=0,l=data.length; i<l; i++){\r\n          let item = Object.assign({},data[i]);\r\n          item.uiId = `${i}_${item.id}_${curTime}`;;\r\n          //判断高度是否过长\r\n          if(item.height>this.rectHeight){\r\n            item.height = this.rectHeight;\r\n            isCheck = true;\r\n          }\r\n          //判断长度是否过长\r\n          if(item.width>this.rectWidth){\r\n            item.width = this.rectWidth;\r\n            isCheck = true;\r\n          }\r\n          this.moduleApiData.push(item);\r\n        }\r\n        if(isCheck){\r\n          this.$emit(\"drag-change\",this.cloneFirstData(this.moduleApiData));\r\n        }\r\n        //改变重新渲染\r\n        this.turnModuleData();\r\n        //初始化设置位置有变化时触发drag-change事件调用接口修改数据\r\n        if(this.setModulePos()){\r\n          this.$emit(\"drag-change\",this.cloneFirstData(this.moduleApiData));\r\n        }\r\n      },\r\n\r\n      //激活块\r\n      activated(vm,dd){\r\n        this.selectModule = Object.assign({},dd);\r\n      },\r\n      deactivated(){\r\n      },\r\n      resizestop(vm,dd){\r\n        this.selectModule = Object.assign({},dd);\r\n        this.itemDragStop=true;\r\n        this.$nextTick(()=>{\r\n          let nextWidth = Math.round(vm.width/this.blockWidth);\r\n          let nextHeight = Math.round(vm.height/this.blockWidth);\r\n          let nextTop = Math.round(vm.top/this.blockWidth);\r\n          let nextLeft = Math.round((vm.left-this.tarWidth*this.currentView-this.offLeft)/this.blockWidth);\r\n          //边界判断\r\n          //top：移动到上外围 则设置为0\r\n          if(nextTop<0){ nextTop = 0;}\r\n          if(nextLeft<0){ nextLeft = 0;}\r\n          //没有变化\r\n          if(nextWidth<=this.selectModule.width && nextHeight <= this.selectModule.height){\r\n            let curPosItem = Object.assign({},this.selectModule,{width:nextWidth,height:nextHeight,top:nextTop,left:nextLeft});\r\n            this.updateItemPos(curPosItem);\r\n            this.setRectStatus(this.selectModule);//删除旧对应矩阵\r\n            this.setRectStatus(curPosItem,true);//设置新对应矩阵\r\n            //更新数据源\r\n            this.updateApiData();\r\n            let temS = this.selectModule;\r\n            //数据不变\r\n            if(temS.width==nextWidth && temS.height==nextHeight && temS.top==nextTop && temS.left==nextLeft){\r\n\r\n            }else {\r\n              this.$emit(\"drag-change\",this.cloneFirstData(this.moduleApiData));\r\n            }\r\n          }else {\r\n            //右下角 太高\r\n            if(nextHeight+nextTop>this.rectHeight){\r\n              nextHeight = this.rectHeight-nextTop;\r\n            }\r\n            //太宽\r\n            if(nextWidth+nextLeft>this.rectWidth){\r\n              nextWidth = this.rectWidth-nextLeft;\r\n            }\r\n            //当前定位的位置\r\n            let curPosItem = Object.assign({},this.selectModule,{\r\n              width:nextWidth,height:nextHeight,top:nextTop,left:nextLeft\r\n            });\r\n            //被占用的数据\r\n            let apiRect = this.findPosByRect(curPosItem);\r\n            let delItems = [];//除了本身 那些要被移动的快\r\n            for(let i=0; i<apiRect.length; i++){\r\n              let itemApiRect = apiRect[i];\r\n              if(curPosItem.id!=itemApiRect.id){\r\n                this.deleteModuleItemData(itemApiRect);//删除临时显示数据块\r\n                this.setRectStatus(itemApiRect);//删除对应矩阵\r\n                delItems.push(itemApiRect);\r\n              }\r\n            }\r\n\r\n            this.setRectStatus(this.selectModule);//删除旧对应矩阵\r\n            this.setRectStatus(curPosItem,true);//设置新对应矩阵\r\n            this.updateItemPos(curPosItem);//更新自身的位置\r\n\r\n            //添加那些被移动的块\r\n            for(let i=0; i<delItems.length; i++){\r\n              delItems[i].updatepos=!delItems[i].updatepos;\r\n              this.addByItem(delItems[i]);\r\n            }\r\n            //更新数据源\r\n            this.updateApiData();\r\n\r\n            this.$emit(\"drag-change\",this.cloneFirstData(this.moduleApiData));\r\n          }\r\n          this.itemResizing = false;//缩放结束\r\n        });\r\n      },\r\n      resizing(vm,dd){\r\n        this.itemDragStop=false;\r\n        this.itemResizing = true;//缩放开始\r\n        this.selectModule = Object.assign({},dd);\r\n      },\r\n      //拖动结束\r\n      dragstop(vm){\r\n        this.itemDragStop=true;\r\n        this.timer && clearTimeout(this.timer);\r\n        this.$nextTick(()=>{\r\n          this.moveLeft=0;\r\n          //四舍五入\r\n          let nextView = Math.floor(vm.left / this.tarWidth);  //目标点位于当前的第几个屏\r\n          let nextLeft = Math.round((vm.left-this.tarWidth*nextView-this.offLeft)/this.blockWidth);\r\n          let nextTop = Math.round(vm.top/this.blockWidth);\r\n\r\n          //边界判断\r\n          //top：移动到上外围 则设置为0\r\n          if(nextTop<0){\r\n            nextTop = 0;\r\n          }\r\n          //top：移动到最下外围 则设置刚好到底部\r\n          if(nextTop>this.rectHeight-this.selectModule.height){\r\n            nextTop = this.rectHeight-this.selectModule.height;\r\n          }\r\n\r\n          //目标点即将定位于 小于第一屏 nextView=0 nextLeft=0\r\n          if(nextView<0){\r\n            nextView=0;//目标点设置为第一屏\r\n            nextLeft=0;\r\n          }\r\n\r\n          //left：当前第一屏而且到达最左边 则归0\r\n          if(nextLeft<0){\r\n            nextLeft=0;\r\n          }else {\r\n            //left：当前最后一屏、、最外围\r\n            if(nextLeft>this.rectWidth-this.selectModule.width){\r\n              //是最后一屏\r\n              nextLeft=this.rectWidth-this.selectModule.width;\r\n            }\r\n          }\r\n          //移动没有达到半格 且是在当前屏幕\r\n          if(nextLeft == this.selectModule.left && nextTop== this.selectModule.top && nextView==this.selectModule.viewIndex){\r\n            vm.changePos(nextLeft*this.blockWidth+(this.tarWidth*this.selectModule.viewIndex)+this.offLeft,nextTop*this.blockWidth);\r\n          }else {\r\n            //当前定位的位置\r\n            let curPosItem = Object.assign({},this.selectModule,{\r\n              left:nextLeft, top:nextTop,uiKey:new Date().getTime(),viewIndex:nextView\r\n            });\r\n            this.currentView=nextView;//切换到定位的屏\r\n            //被占用的数据\r\n            let apiRect = this.findPosByRect(curPosItem);\r\n            this.deleteModuleItemData(this.selectModule);//删除当前显示数据块\r\n            this.setRectStatus(this.selectModule);//删除对应矩阵\r\n\r\n            let delItems = [];//除了本身 那些要被移动的快\r\n            for(let i=0; i<apiRect.length; i++){\r\n              let itemApiRect = apiRect[i];\r\n              if(curPosItem.id!=itemApiRect.id){\r\n                this.deleteModuleItemData(itemApiRect);//删除临时显示数据块\r\n                this.setRectStatus(itemApiRect);//删除对应矩阵\r\n                delItems.push(itemApiRect);\r\n              }\r\n            }\r\n            //先定位当前的\r\n            curPosItem.updatepos=!curPosItem.updatepos;\r\n            this.directAddByItem(curPosItem);\r\n            //添加那些被移动的块\r\n            for(let i=0; i<delItems.length; i++){\r\n              delItems[i].updatepos=!delItems[i].updatepos;\r\n              this.addByItem(delItems[i]);\r\n            }\r\n            //更新数据源\r\n            this.updateApiData();\r\n            this.$emit(\"drag-change\",this.cloneFirstData(this.moduleApiData));\r\n            this.selectModule=curPosItem;//重新赋值当前选中的块\r\n          }\r\n          this.createdMove=false;//移动矩阵的标识设置为false\r\n          this.isSecond = false;//解决dragging事件 在点击块的时候也会触发\r\n          this.targetCurrentView=this.currentView;\r\n          this.clearNullLast();\r\n        });\r\n      },\r\n      //拖动过程\r\n      dragging(vm,dd){\r\n        this.selectModule = Object.assign({},dd);\r\n        this.timer && clearTimeout(this.timer);\r\n        this.targetCurrentView = Math.floor(vm.left / this.tarWidth);  //目标点位于当前的第几个屏\r\n        //createdMove 判断是否已经创建了移动矩阵对应的数据\r\n        if(!this.isSecond){\r\n          this.isSecond = true;\r\n          this.itemDragStop=true;//第一次点击 设置\r\n        }else {\r\n          if(!this.createdMove){\r\n            this.setMoveSpaceData(dd);\r\n            this.createdMove=true;\r\n          }\r\n          this.itemDragStop=false;\r\n        }\r\n\r\n        //右边超出的多少\r\n        //实际偏移左边屏幕的left：总位移 - 前几屏的长度 - 偏移的距离\r\n        //超出右边的长度：+ 本身的长度 - 屏幕的长度\r\n        let diffLeft = vm.left-this.currentView * this.tarWidth - this.moveLeft;\r\n        let diffRight = diffLeft + this.selectModule.width*this.blockWidth-this.tarWidth;\r\n        //右边超出了\r\n        if(diffRight > 0){\r\n          this.dragOverRightPage(diffRight,vm,dd);\r\n        }else if(diffLeft<0){\r\n          this.dragOverLeftPage(diffRight,vm);\r\n        }\r\n      },\r\n\r\n      //设置清空矩阵对应的数据\r\n      setMoveSpaceData(dd){\r\n        //用于查找所有 1 X 1 大小的正方形\r\n        let d2 = Object.assign({},dd);\r\n        d2.width=1;\r\n        d2.height=1;\r\n\r\n        this.moveSpaceData=[];\r\n        this.clearMoveRect();\r\n        let curTime = new Date().getTime();\r\n        for(let q=0,w=this.moduleRect.length; q<w; q++){\r\n          let itemPage = this.moduleRect[q];\r\n          let itemPageL = itemPage.length;\r\n          let spaceModule = [];//每一屏存放的空块\r\n\r\n          for(let i=0; i<itemPageL; i++){\r\n            let item = itemPage[i];\r\n            let itemL = item.length;\r\n            for(let j=0; j<itemL; j++){\r\n              let rectItem = item[j].curId;\r\n              let spacePos = item[j].spacePos;\r\n              //没有被实体占用 而且没有被虚体占用(反之随便一个被占用,则向下一个查找)\r\n              if(rectItem || spacePos){\r\n                continue;\r\n              }else {\r\n                let posData = {\r\n                  top:i,\r\n                  left:j,\r\n                  width:d2.width,\r\n                  height:d2.height,\r\n                  viewIndex:q,\r\n                  id:`${q}_${i}_${j}_${curTime}`\r\n                };\r\n                //找到了\r\n                if(d2.width==1 && d2.height==1){\r\n                  spaceModule.push(posData);\r\n                  spacePos = true;//更改矩阵状态\r\n                }else {\r\n                  //后面没有足够多的位置\r\n                  if(d2.width>itemL-j || d2.height>itemPageL-i){ //宽度还有没有位置 高度还有没有位置\r\n                    break;\r\n                  }\r\n\r\n                  //先判断当前有没有足够的行\r\n                  if(!this.hasEnoughRow(i,d2,j)){\r\n                    let isRowCheck = false;\r\n                    let usedIndex = -1;//被暂用的位置优化代码\r\n                    //从该行的下一个查起,到总共需要的个数(在这范围里一个都)\r\n                    for(let rowI=j+1; rowI<j+d2.width; rowI++){\r\n                      if(item[rowI].curId || item[rowI].spacePos){\r\n                        isRowCheck=true;\r\n                        usedIndex=rowI;\r\n                        break;\r\n                      }else {\r\n                        //判断是否有足够的行\r\n                        if(this.hasEnoughRow(i,d2,rowI)){\r\n                          isRowCheck=true;\r\n                          usedIndex=rowI;\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                    //说明被占用了 则查找下一个可用的\r\n                    if(isRowCheck){\r\n                      j = usedIndex;\r\n                    }else {\r\n                      spaceModule.push(posData);\r\n                      this.setMoveRectStatus(posData,true);\r\n                      j=j+d2.width-1;//直接定位到没有被占用的地方\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          this.moveSpaceData.push({\r\n            uiKey:`${q}_${curTime}`,\r\n            moduleItem:spaceModule\r\n          });\r\n        }\r\n      },\r\n\r\n      //清空移动矩阵的值\r\n      clearMoveRect(){\r\n        for(let q=0,w=this.moduleRect.length; q<w; q++){\r\n          let itemPage = this.moduleRect[q];\r\n          let itemPageL = itemPage.length;\r\n          for(let i=0; i<itemPageL; i++){\r\n            let item = itemPage[i];\r\n            let itemL = item.length;\r\n            for(let j=0; j<itemL; j++){\r\n              item[j].spacePos = false;\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      //更新某一块的位置、大小\r\n      //没有动到其他位置\r\n      updateItemPos(item){\r\n        let curModule = this.moduleData[item.viewIndex].moduleItem;\r\n        for(let i=0,l=curModule.length; i<l; i++){\r\n          if(item.id==curModule[i].id){\r\n            //更新\r\n            curModule[i] = Object.assign(curModule[i],item,{updatepos:!curModule[i].updatepos});\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      //拖动块翻滚屏 向右翻屏\r\n      dragOverRightPage(diffRight,vm,dd){\r\n        //不是最后一屏\r\n        let speed = 10;//移动的速度\r\n        if(diffRight<64){\r\n          speed=6;\r\n        }else if(diffRight<148){\r\n          speed=10;\r\n        }else {\r\n          speed=20;\r\n        }\r\n        let tempLeft = vm.left;\r\n        let  tempI = 0;\r\n        this.timer = setInterval(()=>{\r\n          let mainRight = (this.moduleData.length-1)*this.tarWidth+this.mainLeft;\r\n          if(mainRight<=0) {\r\n            //最后一屏不是空屏 则新增一屏\r\n            if(this.moduleData[this.moduleData.length-1].moduleItem.length){\r\n              this.addModuleAndRect();\r\n              this.setMoveSpaceData(dd);//重新创建移动屏\r\n            }else {\r\n              this.timer && clearTimeout(this.timer);\r\n            }\r\n          }else {\r\n            //剩余的长度小于 speed 则用少于的长度去累加\r\n            if(mainRight<speed && mainRight!=0){\r\n              tempI+=mainRight;\r\n              this.moveLeft+=mainRight;\r\n            }else {\r\n              tempI+=speed;\r\n              this.moveLeft+=speed;\r\n            }\r\n            vm.changePos(tempLeft+tempI,vm.top);\r\n          }\r\n        },10);\r\n      },\r\n      //拖动块翻滚屏 向左翻屏\r\n      dragOverLeftPage(diffLeft,vm){\r\n        //不是最后一屏\r\n        let speed = 10;//移动的速度\r\n        if(diffLeft>-64){\r\n          speed=-6;\r\n        }else if(diffLeft>-148){\r\n          speed=-10;\r\n        }else {\r\n          speed=-20;\r\n        }\r\n        let tempLeft = vm.left;\r\n        let  tempI = 0;\r\n        this.timer = setInterval(()=>{\r\n          let mainLeft = this.mainLeft;//当前class:main_page_item的left值\r\n          if(mainLeft>=0) {\r\n            //到达一屏\r\n            this.timer && clearTimeout(this.timer);\r\n          }else {\r\n            //剩余的长度小于 speed 则用少于的长度去累加\r\n            if(mainLeft>speed && mainLeft!=0){\r\n              tempI+=mainLeft;\r\n              this.moveLeft+=mainLeft;\r\n            }else {\r\n              tempI+=speed;\r\n              this.moveLeft+=speed;\r\n            }\r\n            vm.changePos(tempLeft+tempI,vm.top);\r\n          }\r\n        },10);\r\n      },\r\n      //直接添加一个位置确定的块\r\n      directAddByItem(curItem){\r\n        let curModuleD = this.moduleData[curItem.viewIndex].moduleItem;//添加项所在的屏\r\n        curModuleD.push(curItem);\r\n        //更新矩阵\r\n        this.setRectStatus(curItem,true);\r\n      },\r\n      //添加默认的快（位置还不确定的）\r\n      //curItem 要添加的块\r\n      //viewIndex 从第几屏开始添加 默认从头开始添加\r\n      //返回新的块的信息\r\n      addByItem(curItem,viewIndex=0){\r\n        let isAddSuccess = null;//添加是否成功\r\n        for(let i=viewIndex; i<this.moduleRect.length; i++){\r\n          curItem.viewIndex = i;//从第一屏开始查找\r\n          let posData = this.pushItemToRect(curItem);//坐标信息\r\n          if(posData){\r\n            this.directAddByItem(posData);\r\n            isAddSuccess = posData;\r\n            break;\r\n          }\r\n        }\r\n        if(isAddSuccess) return isAddSuccess;//添加成功 则返回正确的块对象 否则新增一个矩阵继续添加\r\n        this.addModuleAndRect();\r\n        return this.addByItem(curItem,this.moduleRect.length-1);\r\n      },\r\n      //克隆moduleData的数据 moduleData\r\n      cloneModuleData(moduleData){\r\n        let tempModule = [];\r\n        for(let i=0; i<moduleData.length; i++){\r\n          let moduleItem = moduleData[i].moduleItem;\r\n          let tempItem = [];\r\n          for(let k=0,h=moduleItem.length; k<h; k++){\r\n            tempItem.push(Object.assign({},moduleItem[k]));\r\n          }\r\n          tempModule.push(Object.assign({},moduleData[i],{moduleItem:tempItem}));\r\n        }\r\n        return tempModule;\r\n      },\r\n      //克隆一层数组的数据\r\n      cloneFirstData(arrData){\r\n        let tempModule = [];\r\n        for(let i=0; i<arrData.length; i++){\r\n          tempModule.push(Object.assign({},arrData[i]));\r\n        }\r\n        return tempModule;\r\n      },\r\n      //克隆两层数组的数据\r\n      cloneSecondData(arrData){\r\n        let tempModule = [];\r\n        for(let i=0; i<arrData.length; i++){\r\n          let item = arrData[i];\r\n          let temp=[];\r\n          for(let j=0,k=item.length; j<k; j++) {\r\n            temp.push(Object.assign({},item[j]));\r\n          }\r\n          tempModule.push(temp);\r\n        }\r\n        return tempModule;\r\n      },\r\n      //从显示的数据里删除某一块\r\n      deleteModuleItemData(delItem){\r\n        let curModuleD = this.moduleData[delItem.viewIndex].moduleItem;//删除项所在的屏\r\n        for(let i=0; i<curModuleD.length; i++){\r\n          if(curModuleD[i].id == delItem.id){\r\n            curModuleD.splice(i,1);\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      //从矩阵里通过位置查找对应的所有模块\r\n      findPosByRect(posData){\r\n        //当前是第几屏\r\n        let viewIndex = posData.viewIndex;\r\n        let curRectD = this.moduleRect[viewIndex];\r\n        let posRect = [];\r\n        for(let i=posData.top,l=posData.top+posData.height; i<l; i++){\r\n          for(let k=posData.left,h=posData.left+posData.width; k<h; k++){\r\n            if(curRectD[i][k].curId){//被占用的CurId\r\n              posRect.push(curRectD[i][k].curId)\r\n            }\r\n          }\r\n        }\r\n        //查找对应的菜单单元\r\n        if(!posRect.length) return [];\r\n        //去掉重复的块\r\n        let uniPosRect = this.uniqueArr(posRect);\r\n        let apiRect = [];\r\n        for(let i=0,l=uniPosRect.length;i<l; i++ ){\r\n          for(let k=0,h=this.moduleApiData.length;k<h; k++ ){\r\n            if(this.moduleApiData[k].id==uniPosRect[i]){\r\n              apiRect.push(this.moduleApiData[k]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return apiRect;\r\n      },\r\n      /** 数组去重\r\n       * 获取没重复的最右一值放入新数组。\r\n       * （检测到有重复值时终止当前循环同时进入顶层循环的下一轮判断）*/\r\n      uniqueArr(array){\r\n        var temp = [];\r\n        var index = [];\r\n        var l = array.length;\r\n        for(var i = 0; i < l; i++) {\r\n          for(var j = i + 1; j < l; j++){\r\n            if (array[i] === array[j]){\r\n              i++;\r\n              j = i;\r\n            }\r\n          }\r\n          temp.push(array[i]);\r\n          index.push(i);\r\n        }\r\n        return temp;\r\n      },\r\n\r\n      //初始化模块位置\r\n      initModulePos(){\r\n        for(let i=0; i<this.moduleData.length; i++){\r\n          let viewModuleData = this.moduleData[i].moduleItem;\r\n          let h = viewModuleData.length;\r\n          for(let k=0; k<h; k++){\r\n            let item = viewModuleData[k];\r\n            item.viewIndex = i;\r\n            //todo 设置当前科室字段 用于下拉科室选中的值\r\n//            if(item.portletParameter=='1'){\r\n//              item.currentDeptCode = \"\";//当前科室\r\n//            }\r\n\r\n            let posData = this.pushItemToRect(item);//坐标信息\r\n            if(posData){\r\n              //更新矩阵的状态\r\n              this.setRectStatus(posData,true);\r\n            }else {\r\n              let deleteItem = Object.assign({},item);\r\n              viewModuleData.splice(k,1);//删除该模块的菜单 添加到下一个模块里\r\n              if(this.moduleData.length<=i+1){//说明后面没有可用的模块 则需要添加模块\r\n                this.addModuleAndRect();\r\n              }\r\n              this.moduleData[i+1].moduleItem.push(deleteItem);\r\n              k--;\r\n              h--;\r\n            }\r\n          }\r\n        }\r\n\r\n        //更新数据源\r\n        this.updateApiData();\r\n      },\r\n      //设置模块的位置（moduleData的数据是整理好的）\r\n      //return boolean (源数据是否改变)\r\n      setModulePos(){\r\n        let sourceChange = false;//源数据 apiData是否改变了\r\n        for(let i=0; i<this.moduleData.length; i++){\r\n          let viewModuleData = this.moduleData[i].moduleItem;\r\n          let h = viewModuleData.length;\r\n          for(let k=0; k<h; k++){\r\n            let item = viewModuleData[k];\r\n            //被占用\r\n            if(this.getStatusRect(item)){\r\n              sourceChange = true;\r\n              item.viewIndex = i;\r\n              //找新的位置\r\n              let posData = this.pushItemToRect(item);//坐标信息\r\n              if(posData){\r\n                //更新矩阵的状态\r\n                this.setRectStatus(posData,true);\r\n              }else {\r\n                let deleteItem = Object.assign({},item);\r\n                viewModuleData.splice(k,1);//删除该模块的菜单 添加到下一个模块里\r\n                if(this.moduleData.length<=i+1){//说明后面没有可用的模块 则需要添加模块\r\n                  this.addModuleAndRect();\r\n                }\r\n                this.moduleData[i+1].moduleItem.push(deleteItem);\r\n                k--;\r\n                h--;\r\n              }\r\n            }else {\r\n              this.setRectStatus(item,true);\r\n            }\r\n          }\r\n        }\r\n        //更新数据源\r\n        this.updateApiData();\r\n        return sourceChange;\r\n      },\r\n      //判断本事块的位置是否被占用了\r\n      getStatusRect(dataItem){\r\n        let isCheck = false;//是否成功了\r\n        if(this.moduleRect.length<dataItem.viewIndex+1) return true;\r\n\r\n        for(let i=dataItem.top,l=dataItem.top+dataItem.height; i<l; i++){\r\n          let rectCol = this.moduleRect[dataItem.viewIndex][i];//每行的数据\r\n          if(!rectCol) return true;\r\n          for(let j=dataItem.left; j<dataItem.left+dataItem.width; j++){\r\n            if(!rectCol[j] || rectCol[j].curId){\r\n              isCheck=true;\r\n              break;\r\n            }\r\n          }\r\n          if(isCheck) break;\r\n        }\r\n        return isCheck;\r\n      },\r\n\r\n      //更新源数据\r\n      updateApiData(){\r\n        this.moduleApiData=[];//先清空\r\n        for(let i=0; i<this.moduleData.length; i++){\r\n          let viewModuleData = this.moduleData[i].moduleItem;\r\n          this.moduleApiData = this.moduleApiData.concat(viewModuleData);\r\n          viewModuleData=null;//释放内存\r\n        }\r\n      },\r\n      //在某一个屏里通过块信息 查找满足的块（只查找某一个屏）\r\n      //返回包含正确的left top viewIndex的值的块\r\n      pushItemToRect(dataItem){\r\n        let isCheck = false;//是否成功了\r\n        let posData = null;\r\n\r\n        let rectRowL = this.moduleRect[dataItem.viewIndex].length;//总行数\r\n\r\n        for(let i=0,l=rectRowL; i<l; i++){\r\n          let rectCol = this.moduleRect[dataItem.viewIndex][i];//每行的数据\r\n          let rectColL = rectCol.length;//每行的总列数\r\n          for(let j=0; j<rectColL; j++){\r\n            let rectItem = rectCol[j].curId;\r\n            //当前这个没有被暂用，长宽都为1\r\n            if(!rectItem){\r\n              posData = {\r\n                top:i,\r\n                left:j\r\n              };\r\n              if(dataItem.width==1 && dataItem.height==1){\r\n                isCheck = true;\r\n                break;\r\n              }else{\r\n                //后面没有足够多的位置\r\n                if(dataItem.width>rectColL-j || dataItem.height>rectRowL-i){ //宽度还有没有位置 高度还有没有位置\r\n                  break;\r\n                }\r\n                //先判断当前有没有足够的行\r\n                if(!this.hasEnoughRow(i,dataItem,j)){\r\n                  let isRowCheck = false;\r\n                  let usedIndex = -1;//被暂用的位置优化代码\r\n                  //从该行的下一个查起,到总共需要的个数(在这范围里一个都)\r\n                  for(let rowI=j+1; rowI<j+dataItem.width; rowI++){\r\n                    if(rectCol[rowI].curId){\r\n                      isRowCheck=true;\r\n                      usedIndex=rowI;\r\n                      break;\r\n                    }else {\r\n                      //判断是否有足够的行\r\n                      if(this.hasEnoughRow(i,dataItem,rowI)){\r\n                        isRowCheck=true;\r\n                        usedIndex=rowI;\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                  //说明被占用了 则查找下一个可用的\r\n                  if(isRowCheck){\r\n                    j = usedIndex;\r\n                  }else {\r\n                    isCheck = true;\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if(isCheck) break;\r\n        }\r\n\r\n        return isCheck ? Object.assign(dataItem,posData) : null;\r\n      },\r\n\r\n      //判断有没有足够多的行\r\n      //返回 true ：代表  竖的不满足\r\n      hasEnoughRow(curRow,dataItem,rowIndex){\r\n        let startRow = curRow+1;//开始查找的行 从当前行的下一行开始查找\r\n        let endRow = curRow+dataItem.height;//截止查找的行 从当前行和要查找的总行的和\r\n        let isRowCheck=false;//true代表被占用了\r\n        //当前列没有被占用 再判断当前所需的行有没有被占用\r\n        let curModuleRect = this.moduleRect[dataItem.viewIndex];\r\n        for(let colJ=startRow; colJ<endRow; colJ++){\r\n          if(curModuleRect[colJ][rowIndex].curId){\r\n            isRowCheck=true;\r\n            break;\r\n          }\r\n        }\r\n        return isRowCheck;\r\n      },\r\n      /**\r\n       * 设置矩阵的选中状态 或者取消选中状态\r\n       * @param newDataItem 块的信息\r\n       * @param isCheck true: 设置选中状态   false：取消选中状态\r\n       */\r\n      setRectStatus(newDataItem,isCheck=false){\r\n        let curModuleRect = this.moduleRect[newDataItem.viewIndex];\r\n        let isCurId = isCheck ? newDataItem.id : \"\";\r\n        for(let i=newDataItem.top,l=newDataItem.height + newDataItem.top; i<l; i++){\r\n          for(let k=newDataItem.left,h=newDataItem.width + newDataItem.left; k<h; k++){\r\n            curModuleRect[i][k].curId = isCurId;\r\n          }\r\n        }\r\n      },\r\n      /**\r\n       * 设置矩阵的选中状态 或者取消选中状态（移动矩阵）\r\n       * @param newDataItem 块的信息\r\n       * @param isCheck true: 设置选中状态   false：取消选中状态\r\n       */\r\n      setMoveRectStatus(newDataItem,isCheck=false){\r\n        let curModuleRect = this.moduleRect[newDataItem.viewIndex];\r\n        for(let i=newDataItem.top,l=newDataItem.height + newDataItem.top; i<l; i++){\r\n          for(let k=newDataItem.left,h=newDataItem.width + newDataItem.left; k<h; k++){\r\n            curModuleRect[i][k].spacePos = isCheck;\r\n          }\r\n        }\r\n      },\r\n      //根据rectWidth跟rectHeight创建空矩阵\r\n      createSpaceRect(){\r\n        this.spaceRect=[];\r\n        for(let i=0,l=this.rectHeight; i<l; i++){\r\n          let spaceRectTwo=[];\r\n          for(let j=0,k=this.rectWidth; j<k; j++){\r\n            spaceRectTwo.push({curId:\"\",spacePos:false});\r\n          }\r\n          this.spaceRect.push(spaceRectTwo);\r\n        }\r\n      },\r\n      //添加模块的空数据和空矩阵\r\n      addModuleAndRect(){\r\n        this.moduleData.push({uiKey:\"moduleData_\"+new Date().getTime(),moduleItem:[],update:false});\r\n        this.moduleRect.push(this.cloneSecondData(this.spaceRect));\r\n      },\r\n      //算法数据格式转化一下\r\n      //从Api获取的格式转化成我们需要的格式\r\n      turnModuleData(){\r\n        //初始化\r\n        this.moduleData=[{uiKey:new Date().getTime(),moduleItem:[]}];\r\n        this.moduleRect=[this.cloneSecondData(this.spaceRect)];\r\n        this.currentView=0;\r\n        this.targetCurrentView=0;\r\n\r\n        for(let i=0,l=this.moduleApiData.length; i<l; i++){\r\n          let item = Object.assign({uiKey:new Date().getTime(),updatepos:false},this.moduleApiData[i]);\r\n          if(item.viewIndex+1>this.moduleData.length){\r\n            //添加不够的屏数\r\n            for(let k=this.moduleData.length; k<item.viewIndex+1; k++){\r\n              this.addModuleAndRect();\r\n            }\r\n          }\r\n          //一个个的添加到moduleData数组里\r\n          this.moduleData[item.viewIndex].moduleItem.push(item);\r\n        }\r\n\r\n        //过滤掉头有空屏的数据\r\n//        this.clearHeadNullModuleData();\r\n\r\n      },\r\n      //过滤掉头有空屏的数据\r\n      clearHeadNullModuleData(){\r\n        let isNull=false;\r\n        let isRemove=false;//是否有删减空的\r\n        for(let i=0; i<this.moduleData.length; i++){\r\n          let item = this.moduleData[i];\r\n          if(!isNull && !item.moduleItem.length){\r\n            this.moduleData.splice(i,1);\r\n            this.moduleRect.splice(i,1);\r\n            i--;\r\n            isRemove=true;\r\n          }else {\r\n            isNull=true;\r\n          }\r\n        }\r\n        //若有删减空的 则moduleData的viewIndex都要重新改变一下\r\n        if(isRemove){\r\n          this.changeItemInData();\r\n          this.updateApiData();\r\n          this.$emit(\"drag-change\",this.cloneFirstData(this.moduleApiData));\r\n        }\r\n      },\r\n      //改变moduleData 里面所有item 的viewIndex的值 都减 1\r\n      changeItemInData(){\r\n        for(let i=0,l=this.moduleData.length; i<l; i++){\r\n          let item = this.moduleData[i].moduleItem;\r\n          for(let j=0,k=item.length; j<k; j++){\r\n            item[j].viewIndex=i;\r\n          }\r\n        }\r\n      },\r\n      //过滤掉后面空屏的数据 moduleData\r\n      clearNullLast(){\r\n        let isNull = true;\r\n        for(let i=this.moduleData.length-1; i>=0; i--){\r\n          let item = this.moduleData[i];\r\n          if(!item.moduleItem.length && isNull){\r\n            this.moduleData.pop();\r\n            this.moduleRect.pop();\r\n          }else {\r\n            isNull = false;\r\n          }\r\n        }\r\n      },\r\n      //切换屏幕\r\n      turnRightView(isRight=true){\r\n        if(isRight){\r\n          this.currentView++;\r\n        }else {\r\n          this.currentView--;\r\n        }\r\n        this.targetCurrentView=this.currentView;\r\n      },\r\n      //右键\r\n      contextMenu(){\r\n        this.showDragMenu=true;\r\n        let {left,top,width,height} = this.$refs.deskDragBox.getBoundingClientRect();\r\n        if(event.clientX-left+130>width){\r\n          this.rightMenuStyle.left=(width-130+left)+'px';\r\n        }else {\r\n          this.rightMenuStyle.left=event.pageX-left+'px';\r\n        }\r\n\r\n        if(event.clientY-top+50>height){\r\n          this.rightMenuStyle.top=(height+top-50)+'px';\r\n        }else {\r\n          this.rightMenuStyle.top=event.pageY-top+'px';\r\n        }\r\n      },\r\n      dragClickOutside(){\r\n        this.showDragMenu=false;\r\n      },\r\n      //取消固定\r\n      cancelDragFixed(){\r\n        this.deleteModuleItemData(this.selectModule);//删除临时显示数据块\r\n        this.setRectStatus(this.selectModule);//删除对应矩阵\r\n        //更新数据源\r\n        this.updateApiData();\r\n        this.showDragMenu=false;//隐藏右键信息\r\n        this.$emit('drag-delete',this.selectModule,this.cloneFirstData(this.moduleApiData));\r\n      },\r\n      //双击组件\r\n      dragDblClick(d){\r\n        this.$emit('drag-dblclick',d);\r\n      }\r\n    },\r\n    created(){\r\n      this.isMouserWheel = false;\r\n      this.minWindowWidth = 930;\r\n      this.minWindowHeight = 478;\r\n      //必须先重置一下 重新创建移动层\r\n      this.monitorWidthHeight();\r\n      this.createSpaceRect();\r\n    },\r\n    mounted(){\r\n      //获取科室列表\r\n//      this.$ajaxPost(window.path + '/portal/modules/getDeptInfo.do',{staffNo:window.uiUserInfo.staffNo}).then((res)=>{\r\n//        this.deptIdList = res;\r\n//      });\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// desk-drag.vue?0b732f8a","<template>\r\n  <div class=\"vdr t_draggable_resizable\" @mousedown.stop=\"elmDown\" @dblclick=\"fillParent\" :style=\"style\"\r\n       :class=\"{ draggable: draggable, resizable: resizable, active: enabled, dragging: dragging, resizing: resizing }\"\r\n  >\r\n    <div\r\n      class=\"handle\"\r\n      v-if=\"resizable\"\r\n      v-for=\"handle in handles\"\r\n      :class=\"'handle-' + handle\"\r\n      :style=\"{ display: enabled ? 'block' : 'block'}\"\r\n      @mousedown.stop.prevent=\"handleDown(handle, $event)\"\r\n    ></div>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/babel\">\r\n  export default {\r\n    replace: true,\r\n    name: 'TDraggableResizable',\r\n    props: {\r\n      active: {\r\n        type: Boolean, default: false\r\n      },\r\n      draggable: {\r\n        type: Boolean, default: true\r\n      },\r\n      resizable: {\r\n        type: Boolean, default: true\r\n      },\r\n      w: {\r\n        type: Number,\r\n        default: 200,\r\n        validator: function (val) {\r\n          return val > 0\r\n        }\r\n      },\r\n      h: {\r\n        type: Number,\r\n        default: 200,\r\n        validator: function (val) {\r\n          return val > 0\r\n        }\r\n      },\r\n      minw: {\r\n        type: Number,\r\n        default: 50,\r\n        validator: function (val) {\r\n          return val > 0\r\n        }\r\n      },\r\n      minh: {\r\n        type: Number,\r\n        default: 50,\r\n        validator: function (val) {\r\n          return val > 0\r\n        }\r\n      },\r\n      x: {\r\n        type: Number,\r\n        default: 0,\r\n        validator: function (val) {\r\n          return typeof val === 'number'\r\n        }\r\n      },\r\n      y: {\r\n        type: Number,\r\n        default: 0,\r\n        validator: function (val) {\r\n          return typeof val === 'number'\r\n        }\r\n      },\r\n      z: {\r\n        type: [ String, Number ],\r\n        default: 'auto',\r\n        validator: function (val) {\r\n          let valid = (typeof val === 'string') ? val === 'auto' : val >= 0\r\n          return valid\r\n        }\r\n      },\r\n      handles: {\r\n        type: Array,\r\n        default: function () {\r\n          return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml']\r\n        }\r\n      },\r\n      axis: {\r\n        type: String,\r\n        default: 'both',\r\n        validator: function (val) {\r\n          return ['x', 'y', 'both'].indexOf(val) !== -1\r\n        }\r\n      },\r\n      grid: {\r\n        type: Array,\r\n        default: function () {\r\n          return [1, 1]\r\n        }\r\n      },\r\n      parent: {\r\n        type: Boolean, default: false\r\n      },\r\n      maximize: {\r\n        type: Boolean, default: false\r\n      },\r\n      updatepos: {\r\n        type: Boolean, default: false\r\n      },\r\n    },\r\n    created: function () {\r\n      this.parentX = 0\r\n      this.parentW = 9999\r\n      this.parentY = 0\r\n      this.parentH = 9999\r\n\r\n      this.mouseX = 0\r\n      this.mouseY = 0\r\n\r\n      this.lastMouseX = 0\r\n      this.lastMouseY = 0\r\n\r\n      this.mouseOffX = 0\r\n      this.mouseOffY = 0\r\n\r\n      this.elmX = 0\r\n      this.elmY = 0\r\n\r\n      this.elmW = 0\r\n      this.elmH = 0\r\n    },\r\n    mounted: function () {\r\n      document.documentElement.addEventListener('mousemove', this.handleMove, true);\r\n      document.documentElement.addEventListener('mousedown', this.deselect, true);\r\n      document.documentElement.addEventListener('mouseup', this.handleUp, true);\r\n\r\n      this.elmX = parseInt(this.$el.style.left);\r\n      this.elmY = parseInt(this.$el.style.top);\r\n      this.elmW = this.$el.offsetWidth || this.$el.clientWidth;\r\n      this.elmH = this.$el.offsetHeight || this.$el.clientHeight;\r\n\r\n      this.reviewDimensions();\r\n      this.zIndex='auto';\r\n    },\r\n    beforeDestroy: function () {\r\n      document.documentElement.removeEventListener('mousemove', this.handleMove, true)\r\n      document.documentElement.removeEventListener('mousedown', this.deselect, true)\r\n      document.documentElement.removeEventListener('mouseup', this.handleUp, true)\r\n    },\r\n    data: function () {\r\n      return {\r\n        top: this.y,\r\n        left: this.x,\r\n        width: this.w,\r\n        height: this.h,\r\n        resizing: false,\r\n        dragging: false,\r\n        enabled: this.active,\r\n        handle: null,\r\n        zIndex: this.z\r\n      }\r\n    },\r\n    methods: {\r\n      reviewDimensions: function () {\r\n        if (this.minw > this.w) this.width = this.minw\r\n\r\n        if (this.minh > this.h) this.height = this.minh\r\n\r\n        if (this.parent) {\r\n          const parentW = parseInt(this.$el.parentNode.clientWidth, 10)\r\n          const parentH = parseInt(this.$el.parentNode.clientHeight, 10)\r\n\r\n          this.parentW = parentW\r\n          this.parentH = parentH\r\n\r\n          if (this.w > this.parentW) this.width = parentW\r\n\r\n          if (this.h > this.parentH) this.height = parentH\r\n\r\n          if ((this.x + this.w) > this.parentW) this.width = parentW - this.x\r\n\r\n          if ((this.y + this.h) > this.parentH) this.height = parentH - this.y\r\n\r\n          this.elmW = this.width\r\n          this.elmH = this.height\r\n        }\r\n      },\r\n      elmDown: function (e) {\r\n        const target = e.target || e.srcElement;\r\n\r\n        //点击的对象在组件的内部 则触发相应的 可以在这边控制哪些内容不能拖拽\r\n        if (this.$el.contains(target)) {\r\n          this.reviewDimensions();\r\n\r\n          if (!this.enabled) {\r\n            this.enabled = true;\r\n\r\n            this.$emit('activated',this);\r\n            this.$emit('update:active', true)\r\n          }\r\n\r\n          if (this.draggable) {\r\n            this.dragging = true\r\n          }\r\n        }\r\n      },\r\n      deselect: function (e) {\r\n//      this.$nextTick(()=>{ //todo $nextTick可能需要用到\r\n        this.mouseX = e.pageX || e.clientX + document.documentElement.scrollLeft\r\n        this.mouseY = e.pageY || e.clientY + document.documentElement.scrollTop\r\n\r\n        this.lastMouseX = this.mouseX\r\n        this.lastMouseY = this.mouseY\r\n\r\n        const target = e.target || e.srcElement\r\n        const regex = new RegExp('handle-([trmbl]{2})', '')\r\n\r\n        if (!this.$el.contains(target) && !regex.test(target.className)) {\r\n          if (this.enabled) {\r\n            this.enabled = false\r\n\r\n            this.$emit('deactivated')\r\n            this.$emit('update:active', false)\r\n          }\r\n        }\r\n//      });\r\n\r\n      },\r\n      handleDown: function (handle, e) {\r\n        this.handle = handle\r\n\r\n        if (e.stopPropagation) e.stopPropagation()\r\n        if (e.preventDefault) e.preventDefault()\r\n\r\n        this.resizing = true\r\n      },\r\n      fillParent: function (e) {\r\n        if (!this.parent || !this.resizable || !this.maximize) return\r\n\r\n        let done = false\r\n\r\n        const animate = () => {\r\n          if (!done) {\r\n            window.requestAnimationFrame(animate)\r\n          }\r\n\r\n          if (this.axis === 'x') {\r\n            if (\r\n              this.width === this.parentW && this.left === this.parentX\r\n            ) done = true\r\n          } else if (this.axis === 'y') {\r\n            if (\r\n              this.height === this.parentH && this.top === this.parentY\r\n            ) done = true\r\n          } else if (this.axis === 'both') {\r\n            if (\r\n              this.width === this.parentW &&\r\n              this.height === this.parentH &&\r\n              this.top === this.parentY &&\r\n              this.left === this.parentX\r\n            ) done = true\r\n          }\r\n\r\n          if (this.axis === 'x' || this.axis === 'both') {\r\n            if (this.width < this.parentW) {\r\n              this.width++\r\n              this.elmW++\r\n            }\r\n\r\n            if (this.left > this.parentX) {\r\n              this.left--\r\n              this.elmX--\r\n            }\r\n          }\r\n\r\n          if (this.axis === 'y' || this.axis === 'both') {\r\n            if (this.height < this.parentH) {\r\n              this.height++\r\n              this.elmH++\r\n            }\r\n\r\n            if (this.top > this.parentY) {\r\n              this.top--\r\n              this.elmY--\r\n            }\r\n          }\r\n          this.zIndex=1000;//todo 缩放时提高zIndex值\r\n          this.$emit('resizing', this)\r\n        }\r\n\r\n        window.requestAnimationFrame(animate)\r\n      },\r\n      handleMove: function (e) {\r\n        this.mouseX = e.pageX || e.clientX + document.documentElement.scrollLeft\r\n        this.mouseY = e.pageY || e.clientY + document.documentElement.scrollTop\r\n\r\n        let diffX = this.mouseX - this.lastMouseX + this.mouseOffX\r\n        let diffY = this.mouseY - this.lastMouseY + this.mouseOffY\r\n\r\n\r\n        this.mouseOffX = this.mouseOffY = 0\r\n\r\n        this.lastMouseX = this.mouseX\r\n        this.lastMouseY = this.mouseY\r\n\r\n        let dX = diffX\r\n        let dY = diffY\r\n\r\n        if (this.resizing) {\r\n          if (this.handle.indexOf('t') >= 0) {\r\n            if (this.elmH - dY < this.minh) this.mouseOffY = (dY - (diffY = this.elmH - this.minh))\r\n            else if (this.elmY + dY < this.parentY) this.mouseOffY = (dY - (diffY = this.parentY - this.elmY))\r\n            this.elmY += diffY\r\n            this.elmH -= diffY\r\n          }\r\n\r\n          if (this.handle.indexOf('b') >= 0) {\r\n            if (this.elmH + dY < this.minh) this.mouseOffY = (dY - (diffY = this.minh - this.elmH))\r\n            else if (this.elmY + this.elmH + dY > this.parentH) this.mouseOffY = (dY - (diffY = this.parentH - this.elmY - this.elmH))\r\n            this.elmH += diffY\r\n          }\r\n\r\n          if (this.handle.indexOf('l') >= 0) {\r\n            if (this.elmW - dX < this.minw) this.mouseOffX = (dX - (diffX = this.elmW - this.minw))\r\n            else if (this.elmX + dX < this.parentX) this.mouseOffX = (dX - (diffX = this.parentX - this.elmX))\r\n            this.elmX += diffX\r\n            this.elmW -= diffX\r\n          }\r\n\r\n          if (this.handle.indexOf('r') >= 0) {\r\n            if (this.elmW + dX < this.minw) this.mouseOffX = (dX - (diffX = this.minw - this.elmW))\r\n            else if (this.elmX + this.elmW + dX > this.parentW) this.mouseOffX = (dX - (diffX = this.parentW - this.elmX - this.elmW))\r\n            this.elmW += diffX\r\n          }\r\n\r\n          this.left = (Math.round(this.elmX / this.grid[0]) * this.grid[0])\r\n          this.top = (Math.round(this.elmY / this.grid[1]) * this.grid[1])\r\n\r\n          this.width = (Math.round(this.elmW / this.grid[0]) * this.grid[0])\r\n          this.height = (Math.round(this.elmH / this.grid[1]) * this.grid[1])\r\n\r\n          this.zIndex=1000;//todo 缩放时提高zIndex值\r\n          this.$emit('resizing', this)\r\n        } else if (this.dragging) {\r\n\r\n          this.zIndex=1000;//todo 移动时提高zIndex值\r\n          if (this.parent) {\r\n            if (this.elmX + dX < this.parentX) this.mouseOffX = (dX - (diffX = this.parentX - this.elmX))\r\n            else if (this.elmX + this.elmW + dX > this.parentW) this.mouseOffX = (dX - (diffX = this.parentW - this.elmX - this.elmW))\r\n\r\n            if (this.elmY + dY < this.parentY) this.mouseOffY = (dY - (diffY = this.parentY - this.elmY))\r\n            else if (this.elmY + this.elmH + dY > this.parentH) this.mouseOffY = (dY - (diffY = this.parentH - this.elmY - this.elmH))\r\n          }\r\n\r\n          this.elmX += diffX\r\n          this.elmY += diffY\r\n          if (this.axis === 'x' || this.axis === 'both') {\r\n            this.left = (Math.round(this.elmX / this.grid[0]) * this.grid[0])\r\n          }\r\n          if (this.axis === 'y' || this.axis === 'both') {\r\n            this.top = (Math.round(this.elmY / this.grid[1]) * this.grid[1])\r\n          }\r\n          this.$emit('dragging', this)\r\n        }\r\n      },\r\n      handleUp: function (e) {\r\n        this.handle = null;\r\n        if (this.resizing) {\r\n          this.resizing = false;\r\n          this.zIndex='auto';//todo 缩放结束是zIndex值为auto\r\n          this.$emit('resizestop', this)\r\n        }\r\n        if (this.dragging) {\r\n          this.dragging = false;\r\n          this.zIndex='auto';//todo 移动结束是zIndex值为auto\r\n          this.$emit('dragstop', this)\r\n        }\r\n\r\n        this.elmX = this.left;\r\n        this.elmY = this.top\r\n      },\r\n\r\n      //改变位置\r\n      changePos: function(left,top){\r\n        this.left = left;\r\n        this.top = top;\r\n        this.elmX = left;\r\n        this.elmY = top;\r\n      },\r\n    },\r\n    computed: {\r\n      style: function () {\r\n        return {\r\n          top: this.top + 'px',\r\n          left: this.left + 'px',\r\n          width: this.width + 'px',\r\n          height: this.height + 'px',\r\n          zIndex: this.zIndex\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      active: function (val) {\r\n        this.enabled = val\r\n      },\r\n      z: function (val) {\r\n        if (val >= 0 || val === 'auto') {\r\n          this.zIndex = val\r\n        }\r\n      },\r\n      x: function (val) {\r\n        this.left = val;\r\n        this.elmX = val;\r\n      },\r\n      y: function (val) {\r\n        this.top = val;\r\n        this.elmY = val;\r\n      },\r\n\r\n\r\n      updatepos: function(val){\r\n        this.left = this.x;\r\n        this.top = this.y;\r\n        //解决外界手动改变x y时elmX没有同步的bug\r\n        this.elmX = this.x;\r\n        this.elmY = this.y;\r\n\r\n        this.width = this.w;\r\n        this.height = this.h;\r\n        this.elmW = this.w;\r\n        this.elmH = this.h;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"sass\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// draggable-resizable.vue?d1107664","<template>\r\n  <div class=\"contain\">\r\n    <div class=\"menu\">\r\n      <h1>桌面布局</h1>\r\n      <ul>\r\n        <li><button @click='handleClick'>添加块</button> </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"content\">\r\n      <t-desk-drag class=\"themeType\" ref=\"deskDrag\" :width=\"width\" :height='height'\r\n        @drag-change=\"dragChangeEn\"\r\n        @drag-delete=\"dragDeleteEn\"\r\n      ></t-desk-drag>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'TDeskDragDemo',\r\n    data(){\r\n      return {\r\n        width:1366,\r\n        height:687,\r\n        dataLength:0\r\n      };\r\n    },\r\n    methods:{\r\n      dragDeleteEn(avl,arr){\r\n        this.dataLength = arr.length;\r\n      },\r\n      dragChangeEn(arr){\r\n        this.dataLength = arr.length;\r\n      },\r\n      handleClick(){\r\n        let obj =  {\r\n          left:0,top:0,width:1,height:1,\r\n          id:\"\"+new Date().getTime(),viewIndex:0,portletColor:\"dragColor\"+this.dataLength%4,\r\n          portletName:\"测试\"+this.dataLength,portletImage:\"iconfont icon-beihuoguanli\"\r\n        };\r\n        this.$refs.deskDrag.addByItem(obj);\r\n        this.dataLength++;\r\n      },\r\n      resize(){\r\n        let w = $(window).width()-100;\r\n        let h = $(window).height();\r\n        this.width = w;\r\n        this.height = h;\r\n      }\r\n    },\r\n    mounted:function() { //用于高亮显示代码\r\n      let arr = [\r\n        {\r\n          left:0,top:0,width:1,height:1,\r\n          id:'a1000002',viewIndex:0,portletColor:\"dragColor4\",\r\n          portletName:\"测试\",portletImage:\"iconfont icon-beihuoguanli\"\r\n        },\r\n      ];\r\n      this.$refs.deskDrag.updateDragPos(arr);\r\n\r\n      this.resize();\r\n      window.addEventListener(\"resize\",this.resize);\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.contain{\r\n  display:flex;\r\n  justify-content: flex-start;\r\n  height:100%;\r\n}\r\n.menu{flex-basis:50px; background:#00acE7; text-align:center;}\r\n.menu h1{font-size:16px;}\r\n.menu ul{ overflow: hidden; margin:0; padding:5px;} \r\n.menu button{padding:2px; margin:0; font-size:12px;} \r\n.content{flex-grow: 2; background:url(\"./assets/images/bg.jpg\") left center no-repeat; background-size:100% 100%;}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Index.vue?0d2422c0","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n \r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./desk-drag.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5fa546d6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./desk-drag.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/packages/desk-drag/src/desk-drag.vue\n// module id = 419\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4343f29b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./draggable-resizable.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./draggable-resizable.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4343f29b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./draggable-resizable.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-4343f29b\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/packages/draggable-resizable/src/draggable-resizable.vue\n// module id = 420\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f06297e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f06297e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-f06297e2\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Index.vue\n// module id = 421\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"vdr t_draggable_resizable\",\n    class: {\n      draggable: _vm.draggable, resizable: _vm.resizable, active: _vm.enabled, dragging: _vm.dragging, resizing: _vm.resizing\n    },\n    style: (_vm.style),\n    on: {\n      \"mousedown\": function($event) {\n        $event.stopPropagation();\n        return _vm.elmDown($event)\n      },\n      \"dblclick\": _vm.fillParent\n    }\n  }, [_vm._l((_vm.handles), function(handle) {\n    return (_vm.resizable) ? _c('div', {\n      staticClass: \"handle\",\n      class: 'handle-' + handle,\n      style: ({\n        display: _vm.enabled ? 'block' : 'block'\n      }),\n      on: {\n        \"mousedown\": function($event) {\n          $event.stopPropagation();\n          $event.preventDefault();\n          _vm.handleDown(handle, $event)\n        }\n      }\n    }) : _vm._e()\n  }), _vm._v(\" \"), _vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4343f29b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./components/packages/draggable-resizable/src/draggable-resizable.vue\n// module id = 422\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"deskDragBox\",\n    staticClass: \"t_desk_drag main_page\",\n    on: {\n      \"mousewheel\": _vm.mouseWheel,\n      \"DOMMouseScroll\": _vm.mouseWheel\n    }\n  }, [_c('div', {\n    staticClass: \"main_page_item\",\n    class: {\n      'drag_stop': _vm.itemDragStop, 'resizing': _vm.itemResizing\n    },\n    style: (_vm.movePageStyle)\n  }, [_vm._l((_vm.moveSpaceData), function(d, index) {\n    return _c('div', {\n      key: d.uiKey,\n      staticClass: \"main_move_inner\",\n      style: ({\n        width: _vm.tarWidth + 'px'\n      })\n    }, [_c('div', {\n      staticClass: \"main_move_item\",\n      style: ({\n        width: _vm.rectWidth * _vm.blockWidth + 'px'\n      })\n    }, _vm._l((d.moduleItem), function(dd) {\n      return _c('div', {\n        key: dd.id,\n        staticClass: \"move_item\",\n        style: ({\n          height: dd.height * _vm.blockWidth + 'px',\n          width: dd.width * _vm.blockWidth + 'px',\n          left: dd.left * _vm.blockWidth + 'px',\n          top: dd.top * _vm.blockWidth + 'px'\n        })\n      }, [_c('div', {\n        staticClass: \"mover_item_inner\"\n      })])\n    }))])\n  }), _vm._v(\" \"), _vm._l((_vm.moduleData), function(d, index) {\n    return _vm._l((d.moduleItem), function(dd) {\n      return _c('t-draggable-resizable', {\n        key: dd.uiId,\n        staticClass: \"module_item\",\n        class: {\n          'has_url': dd.portletUrl && (dd.width >= _vm.urlMinHeight && dd.height >= _vm.urlMinWidth || dd.height >= _vm.urlMinHeight && dd.width >= _vm.urlMinWidth)\n        },\n        attrs: {\n          \"w\": dd.width * _vm.blockWidth,\n          \"h\": dd.height * _vm.blockWidth,\n          \"minw\": _vm.blockWidth,\n          \"minh\": _vm.blockWidth,\n          \"x\": dd.left * _vm.blockWidth + dd.viewIndex * _vm.tarWidth + _vm.offLeft,\n          \"y\": dd.top * _vm.blockWidth,\n          \"handles\": ['tl', 'br'],\n          \"updatepos\": dd.updatepos,\n          \"draggable\": _vm.isfixed != '1',\n          \"resizable\": _vm.isfixed != '1'\n        },\n        on: {\n          \"activated\": function($event) {\n            _vm.activated($event, dd)\n          },\n          \"deactivated\": _vm.deactivated,\n          \"resizestop\": function($event) {\n            _vm.resizestop($event, dd)\n          },\n          \"resizing\": function($event) {\n            _vm.resizing($event, dd)\n          },\n          \"dragstop\": _vm.dragstop,\n          \"dragging\": function($event) {\n            _vm.dragging($event, dd)\n          }\n        },\n        nativeOn: {\n          \"contextmenu\": function($event) {\n            $event.preventDefault();\n            $event.stopPropagation();\n            _vm.contextMenu()\n          },\n          \"dblclick\": function($event) {\n            $event.preventDefault();\n            _vm.dragDblClick(dd)\n          }\n        }\n      }, [_c('div', {\n        staticClass: \"module_item_inner\",\n        class: dd.portletColor || 'dragColor4'\n      }, [(dd.portletUrl && (dd.width >= _vm.urlMinHeight && dd.height >= _vm.urlMinWidth || dd.height >= _vm.urlMinHeight && dd.width >= _vm.urlMinWidth)) ? [_c('div', {\n        staticClass: \"module_item_tt\"\n      }, [_c('i', {\n        staticClass: \"navIcon\",\n        class: dd.portletImage\n      }), _vm._v(\"\\n              \" + _vm._s(dd.portletName) + \"\\n              \"), _c('div', {\n        staticClass: \"module_item_operate\"\n      }, [_c('i', {\n        staticClass: \"zoeIconfont z_refresh_normal icon_refresh\",\n        on: {\n          \"dblclick\": function($event) {\n            $event.stopPropagation();\n          },\n          \"click\": function($event) {\n            $event.stopPropagation();\n            return _vm.moduleItemRefreshEvn($event)\n          }\n        }\n      })])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"module_item_url\"\n      }, [_c('div', {\n        staticClass: \"module_mask\"\n      }), _vm._v(\" \"), _c('iframe', {\n        attrs: {\n          \"id\": 'module_item_' + dd.uiId,\n          \"data-frame-id\": \"comPortalPage\",\n          \"src\": dd.portletUrl,\n          \"frameborder\": \"0\",\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"scrolling\": \"no\"\n        }\n      })])] : [_c('i', {\n        staticClass: \"module_item_icon\",\n        class: dd.portletImage || 'z_menuD_normal'\n      }), _vm._v(\" \"), _c('div', {\n        staticClass: \"module_item_bottom ellipsis\"\n      }, [_vm._v(_vm._s(dd.portletName))])]], 2)])\n    })\n  })], 2), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentView + 1 < _vm.moduleData.length),\n      expression: \"currentView+1<moduleData.length\"\n    }],\n    staticClass: \"main_btn btn_right\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-right\",\n    on: {\n      \"click\": function($event) {\n        _vm.turnRightView(true)\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentView > 0 && _vm.mainLeft < 0),\n      expression: \"currentView>0 && mainLeft<0\"\n    }],\n    staticClass: \"main_btn btn_left\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-left\",\n    on: {\n      \"click\": function($event) {\n        _vm.turnRightView(false)\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"clickoutside\",\n      rawName: \"v-clickoutside\",\n      value: (_vm.dragClickOutside),\n      expression: \"dragClickOutside\"\n    }, {\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showDragMenu),\n      expression: \"showDragMenu\"\n    }],\n    staticClass: \"com_main_drag_menu\",\n    style: (_vm.rightMenuStyle)\n  }, [_c('ul', [_c('li', {\n    staticClass: \"menu_item\",\n    on: {\n      \"click\": _vm.cancelDragFixed\n    }\n  }, [_vm._v(\"取消固定\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"drag_page_box\",\n    style: (_vm.dragPageStyle)\n  }, [_c('ul', {\n    staticClass: \"drag_page_box_inner clearfix\"\n  }, _vm._l((_vm.moduleData), function(d, index) {\n    return _c('li', {\n      class: {\n        selected: _vm.targetCurrentView == _vm.currentView ? index == _vm.currentView : index == _vm.targetCurrentView\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.currentView = _vm.targetCurrentView = index\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"drag_page_target\"\n    })])\n  }))])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5fa546d6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./components/packages/desk-drag/src/desk-drag.vue\n// module id = 423\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"contain\"\n  }, [_c('div', {\n    staticClass: \"menu\"\n  }, [_c('h1', [_vm._v(\"桌面布局\")]), _vm._v(\" \"), _c('ul', [_c('li', [_c('button', {\n    on: {\n      \"click\": _vm.handleClick\n    }\n  }, [_vm._v(\"添加块\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('t-desk-drag', {\n    ref: \"deskDrag\",\n    staticClass: \"themeType\",\n    attrs: {\n      \"width\": _vm.width,\n      \"height\": _vm.height\n    },\n    on: {\n      \"drag-change\": _vm.dragChangeEn,\n      \"drag-delete\": _vm.dragDeleteEn\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-f06297e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/Index.vue\n// module id = 424\n// module chunks = 1"],"sourceRoot":""}